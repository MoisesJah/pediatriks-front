<div class="d-flex flex-column gap-4">
    @for (item of paquetesList | async ; track $index) {
    <div ngbAccordion  [destroyOnHide]="false" class=" card card-body border-1 border-gray-300 d-flex gap-4">
        <div ngbAccordionItem >
            <div class="d-flex  justify-content-between align-items-center">
                <div>
                    <span ngbAccordionHeader  class="fw-bold fs-5">{{ item.paquete }}</span>
                    <span>{{ item.num_sesiones }}</span>
                </div>
                <button ngbAccordionToggle class="btn btn-sm bt-secondary">Historial</button>
            </div>


            <div ngbAccordionCollapse>
                <div ngbAccordionBody>
                    <ng-template>
                        <div style="height: 300px;" [ngClass]="[theme.getThemeMode() === 'light' ? 'ag-theme-quartz' : 'ag-theme-quartz-dark']">
                            <ag-grid-angular style="width: 100%; height: 100%" [rowData]="getHistorial(item.id)" [columnDefs]="columnDefs"
                            [loading]="isLoading | async" loadingMessage="Cargando..." [localeText]="localeText"
                            [enableCellTextSelection]="true" [ariaHidden]="true" [pagination]="true"></ag-grid-angular>
                        </div>
                    </ng-template>
                </div>
            </div>
        </div>

        <ng-template #gridTemplate let-item="$implicit">
            
        </ng-template>

    </div>
    } @empty {
    <div>No hay paquetes</div>
    }

</div>