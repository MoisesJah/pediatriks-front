import{a as fe}from"./chunk-Q4VFHCA5.js";import{a as ue,c as V}from"./chunk-SGWZHZFB.js";import{a as me,b as pe}from"./chunk-YXYOJIWV.js";import{a as ce}from"./chunk-555LYGFL.js";import{c as se}from"./chunk-VW7FZU7U.js";import{a as de}from"./chunk-WAKZQXFB.js";import{a as le,b as Se}from"./chunk-73QAVBZN.js";import{a as w}from"./chunk-C4LB5HPP.js";import{b as q,g as ae}from"./chunk-FR665RP3.js";import{a as R,e as K,f as s,g as M,h as Q,l as Z,m as ee,o as te,p as ie,q as re,r as I,s as oe,t as ne,u as x}from"./chunk-O36CONK3.js";import{f as F,g as N,j as L,m as W}from"./chunk-FM6AGUVW.js";import{B as H,C as A,Da as E,I as S,Kb as b,Kc as h,Lc as g,Na as B,Oa as j,Ob as U,Qb as J,Tb as p,Wa as k,a as Ee,ac as r,b as xe,bc as i,cc as l,dc as X,ea as D,ec as Y,gc as z,mc as f,nc as v,sa as G,t as _,wb as d,wc as a,xb as $,ya as O,yc as Te,za as c,zc as ke}from"./chunk-6QDZBSPE.js";var he=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl=`${R.apiUrl}/horariopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(e){return this.http.get(`${this.apiUrl}/list/${e}`)}create(e){return this.http.post(`${this.apiUrl}/add`,e)}update(e,m){return this.http.put(`${this.apiUrl}/edit/${e}`,m)}delete(e){return this.http.delete(`${this.apiUrl}/delete/${e}`)}};t.\u0275fac=function(m){return new(m||t)(O(W))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ge=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl=`${R.apiUrl}/tipopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(e){return this.http.get(`${this.apiUrl}/list/${e}`)}create(e){return this.http.post(`${this.apiUrl}/add`,e)}update(e,m){return this.http.put(`${this.apiUrl}/edit/${e}`,m)}delete(e){return this.http.delete(`${this.apiUrl}/delete/${e}`)}};t.\u0275fac=function(m){return new(m||t)(O(W))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function be(n,t=10){n=n.charAt(0)==="#"?n:"#"+n;let o=parseInt(n.slice(1,3),16),e=parseInt(n.slice(3,5),16),m=parseInt(n.slice(5,7),16),u=Math.min(o,e,m),T=Math.round((255-u)*.25),ye=[];for(let ve=1;ve<=t;ve++){let _e=ve/t,Le=Math.min(255,Math.round(o+T*_e)),Me=Math.min(255,Math.round(e+T*_e)),Ie=Math.min(255,Math.round(m+T*_e)),qe="#"+Le.toString(16).padStart(2,"0")+Me.toString(16).padStart(2,"0")+Ie.toString(16).padStart(2,"0");ye.push(qe)}return ye}var Ae=()=>[M,I,pe,me];function Ge(n,t){if(n&1&&(r(0,"div",45),l(1,"ngx-colors",46)(2,"input",47),i()),n&2){let o,e=v();d(),p("palette",e.colorPalette)("hideTextInput",!0)("hideColorPicker",!0),d(),p("value",(o=e.personalForm.get("color"))==null?null:o.value)}}function Oe(n,t){if(n&1){let o=z();r(0,"div",55)(1,"button",56),f("click",function(){B(o);let m=v().index,u=v();return j(u.removeHorario(m))}),l(2,"i",57),i()()}}function Be(n,t){if(n&1&&(X(0),r(1,"div",48),b(2,Oe,3,0,"div",49),r(3,"div",23)(4,"div",50)(5,"label",51),a(6,"Dia de Semana"),i(),l(7,"ng-select",52),i(),r(8,"div",50)(9,"label",51),a(10,"Hora de Inicio"),i(),l(11,"input",53),i(),r(12,"div",50)(13,"label",51),a(14,"Hora de Fin"),i(),l(15,"input",54),i()()(),Y()),n&2){let o=t.index,e=v();d(),p("formGroupName",o),d(),p("ngIf",o>0),d(5),p("items",e.dias),d(4),p("options",e.timeOptions),d(4),p("options",e.timeOptions)}}function je(n,t){n&1&&l(0,"span",58)}var C,Fe=(C=class{constructor(t){this.fb=t,this.modal=c(q),this.toast=c(ue),this.isLoading=c(w).isLoading,this.personalService=c(V),this.tipoPersonalService=c(ge),this.terapiaService=c(ae),this.horarioPersonalService=c(he),this.generosService=c(ce),this.sedesService=c(fe),this.tiposPersonalList=new _,this.terapiasList=new _,this.horariosList=new _,this.generosList=new _,this.sedesList=new _,this.archivo=null,this.colorTerapia=null,this.timeOptions={enableTime:!0,noCalendar:!0,dateFormat:"H:i"},this.dias=[{value:1,name:"Lunes"},{value:2,name:"Martes"},{value:3,name:"Mi\xE9rcoles"},{value:4,name:"Jueves"},{value:5,name:"Viernes"},{value:6,name:"S\xE1bado"}],this.onSaveComplete=new k,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.personalForm=this.fb.group({nombre:["",s.required],dni:["",[s.required,s.minLength(8),s.pattern("^[0-9]*")]],telefono:["",[s.required,s.pattern("^[0-9]*")]],correo:["",[s.required,s.email]],id_genero:[null,s.required],id_sede:[null,s.required],sueldo:[0,[s.required,s.min(0)]],id_terapia:[null,s.required],cv:[null],color:[null,s.required],horarios:this.fb.array([this.createHorario()])})}get horarios(){return this.personalForm.get("horarios")}createHorario(){return this.fb.group({dia_semana:[null,s.required],hora_inicio:[null,s.required],hora_fin:[null,s.required]})}onChangeTerapia(t){this.colorTerapia=t?.color,this.personalForm.get("color")?.setValue(null)}get colorPalette(){return this.colorTerapia?be(this.colorTerapia,15):[]}addHorario(){this.horarios.push(this.createHorario())}removeHorario(t){this.horarios.removeAt(t)}ngOnInit(){this.getTerapiasList(),this.getGenerosList(),this.getSedesList()}ngAfterViewInit(){this.horarios.valueChanges.subscribe(t=>{for(let o=0;o<t.length;o++){let e=t[o];e.hora_fin<e.hora_inicio&&(e.hora_fin=e.hora_inicio,this.horarios.at(o).get("hora_fin")?.setValue(e.hora_fin))}})}close(){this.modal.dismissAll()}save(){this.personalForm.valid&&this.personalService.create(xe(Ee({},this.personalForm.value),{horarios:this.horarios.value})).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:t=>{if(t.error.errors){let o=Object.values(t.error.errors).join(`
`);this.toast.error(o,"Error")}else this.toast.error("Ocurri\xF3 un error al crear el personal","Error")}})}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(S(t=>(this.loadingGenero=!1,t.data)))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(S(t=>(this.loadingSedes=!1,t.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(S(t=>t.data),D(()=>this.loadingTerapia=!1))}getHorariosList(){this.loadingHorario=!0,this.horariosList=this.horarioPersonalService.getAll().pipe(S(t=>(this.loadingHorario=!1,t.data)))}evtSelectFile(t){let o=t.target.files,e=o?o[0]:null;this.archivo=e,this.personalForm.patchValue({cv:this.archivo})}},C.\u0275fac=function(o){return new(o||C)($(x))},C.\u0275cmp=E({type:C,selectors:[["app-crear-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:81,vars:20,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"text-primary"],[1,"ki-duotone","ki-add-files","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],["enctype","multipart/form-data",1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresar Nombre",1,"form-control"],["for",""],["type","file","id","cv","accept","application/pdf",1,"form-control",3,"change"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni","placeholder","Ingresar DNI",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono","placeholder","Ingresar Telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo","placeholder","Ingresar Correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"change","items","loading"],[1,"form-group","col-6","d-flex","flex-column"],["for","",1,"form-label"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["formArrayName","horarios"],[1,"d-flex","justify-content-between","mt-4","align-items-center"],["for","",1,"form-label","fw-bolder","fs-5"],[1,"btn","btn-primary","fs-10","btn-sm","btn-icon",3,"click"],[1,"ki-duotone","ki-plus"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"d-flex","position-relative","justify-content-center","align-items-center"],["ngx-colors-trigger","","formControlName","color",1,"position-absolute",2,"display","inline-block","margin","5px","left","10px",3,"palette","hideTextInput","hideColorPicker"],["type","text","readonly","",1,"form-control","ps-16",3,"value"],[1,"form-group","d-flex","flex-column","gap-3","position-relative","p-4","border-2","mt-2","border-dashed","border-gray-300","rounded",3,"formGroupName"],["class","position-absolute end-0","style","transform: translateY(-18px) translateX(12px);",4,"ngIf"],[1,"form-group","col-4"],["for","id_horario",1,"required","form-label"],["bindValue","value","placeholder","Seleccionar","bindLabel","name","formControlName","dia_semana",3,"items"],["type","text","mwlFlatpickr","","placeholder","Inicio","formControlName","hora_inicio",1,"form-control",3,"options"],["type","text","id","kt_calendar_datepicker_end_time","formControlName","hora_fin","mwlFlatpickr","","placeholder","Seleccionar Hora de Fin",1,"form-control",3,"options"],[1,"position-absolute","end-0",2,"transform","translateY(-18px) translateX(12px)"],[1,"btn","btn-sm","fs-10","btn-icon","btn-active-color-danger","btn-danger",3,"click"],[1,"ki-solid","ki-cross"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"h4",1)(2,"span",2)(3,"i",3),l(4,"span",4)(5,"span",5)(6,"span",6),i()(),a(7," A\xF1adir Personal "),i(),r(8,"button",7),f("click",function(){return e.close()}),r(9,"i",8),l(10,"span",4)(11,"span",5),i()()(),r(12,"div",9)(13,"form",10)(14,"div",11)(15,"label",12),a(16,"Nombre"),i(),l(17,"input",13),i(),r(18,"div",11)(19,"label",14),a(20,"CV"),i(),r(21,"input",15),f("change",function(u){return e.evtSelectFile(u)}),i()(),r(22,"div",16)(23,"div",11)(24,"label",17),a(25,"DNI"),i(),l(26,"input",18),i(),r(27,"div",11)(28,"label",19),a(29,"Tel\xE9fono"),i(),l(30,"input",20),i()(),r(31,"div",11)(32,"label",21),a(33,"Correo"),i(),l(34,"input",22),i(),r(35,"div",23)(36,"div",24)(37,"label",25),a(38,"G\xE9nero"),i(),l(39,"ng-select",26),h(40,"async"),i(),r(41,"div",24)(42,"label",27),a(43,"Sueldo"),i(),l(44,"input",28),i()(),r(45,"div",23)(46,"div",24)(47,"label",29),a(48,"Especialidad"),i(),r(49,"ng-select",30),h(50,"async"),f("change",function(u){return e.onChangeTerapia(u)}),i()(),r(51,"div",31)(52,"label",32),a(53,"Color"),i(),b(54,Ge,3,4),U(55,54,Ae),J(),i()(),r(57,"div",11)(58,"label",33),a(59,"Sede"),i(),l(60,"ng-select",34),h(61,"async"),i(),r(62,"div",23)(63,"div",35)(64,"div",36)(65,"label",37),a(66,"Horarios"),i(),r(67,"button",38),f("click",function(){return e.addHorario()}),r(68,"span")(69,"i",39),l(70,"span",4)(71,"span",5),i()()()(),b(72,Be,16,5,"ng-container",40),i()()()(),r(73,"div",41)(74,"button",42),f("click",function(){return e.close()}),a(75," Cancelar "),i(),r(76,"button",43),h(77,"async"),f("click",function(){return e.save()}),a(78," Guardar "),b(79,je,1,0,"span",44),h(80,"async"),i()()),o&2&&(d(13),p("formGroup",e.personalForm),d(26),p("items",g(40,10,e.generosList))("loading",e.loadingGenero),d(10),p("items",g(50,12,e.terapiasList))("loading",e.loadingTerapia),d(11),p("items",g(61,14,e.sedesList))("loading",e.loadingSedes),d(12),p("ngForOf",e.horarios.controls),d(4),p("disabled",e.personalForm.invalid||g(77,16,e.isLoading)),d(3),p("ngIf",g(80,18,e.isLoading)))},dependencies:[F,N,Z,K,ee,M,Q,ne,oe,te,I,ie,re,se,de,L]}),C);Fe=H([le({checkProperties:!0}),A("design:paramtypes",[x])],Fe);var $e=()=>[M,I,pe,me];function Ue(n,t){if(n&1&&(r(0,"div",43),l(1,"ngx-colors",44)(2,"input",45),i()),n&2){let o,e=v();d(),p("palette",e.colorPalette)("hideTextInput",!0)("hideColorPicker",!0),d(),p("value",(o=e.editForm.get("color"))==null?null:o.value)}}function Je(n,t){if(n&1){let o=z();r(0,"div",54)(1,"button",55),f("click",function(){B(o);let m=v().index,u=v();return j(u.removeHorario(m))}),l(2,"i",56),i()()}}function Xe(n,t){if(n&1&&(X(0),r(1,"div",46),b(2,Je,3,0,"div",47),r(3,"div",21)(4,"div",48),l(5,"input",49),r(6,"label",50),a(7,"Dia de Semana"),i(),l(8,"ng-select",51),i(),r(9,"div",48)(10,"label",50),a(11,"Hora de Inicio"),i(),l(12,"input",52),i(),r(13,"div",48)(14,"label",50),a(15,"Hora de Fin"),i(),l(16,"input",53),i()()(),Y()),n&2){let o=t.index,e=v();d(),p("formGroupName",o),d(),p("ngIf",o>0),d(6),p("items",e.dias),d(4),p("options",e.timeOptions),d(4),p("options",e.timeOptions)}}function Ye(n,t){n&1&&l(0,"span",57)}var y,Ne=(y=class{constructor(t){this.fb=t,this.modal=c(q),this.toast=c(ue),this.personalService=c(V),this.tipoPersonalService=c(ge),this.terapiaService=c(ae),this.horarioPersonalService=c(he),this.isLoading=c(w).isLoading,this.generosService=c(ce),this.sedesService=c(fe),this.terapiasList=new _,this.horariosList=new _,this.generosList=new _,this.sedesList=new _,this.timeOptions={enableTime:!0,noCalendar:!0,dateFormat:"H:i"},this.dias=[{value:1,name:"Lunes"},{value:2,name:"Martes"},{value:3,name:"Mi\xE9rcoles"},{value:4,name:"Jueves"},{value:5,name:"Viernes"},{value:6,name:"S\xE1bado"}],this.colorTerapia=null,this.onSaveComplete=new k,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.editForm=this.fb.group({nombre:["",s.required],dni:["",[s.required,s.pattern("^[0-9]*")]],telefono:["",[s.required,s.pattern("^[0-9]*")]],correo:["",[s.required,s.email]],id_genero:[null,s.required],id_sede:[null,s.required],sueldo:["",[s.required,s.min(0)]],id_terapia:[null,s.required],horarios:this.fb.array([]),cv:[null],color:[null,s.required]})}get horarios(){return this.editForm.get("horarios")}createHorario(){return this.fb.group({id_horario:[null],dia_semana:[null,s.required],hora_inicio:[null,s.required],hora_fin:[null,s.required]})}addHorario(){this.horarios.push(this.createHorario())}removeHorario(t){this.horarios.removeAt(t)}evtSelectFile(t){let o=t.target.files;this.editForm.get("cv")?.setValue(o?.item(0))}onChangeTerapia(t){this.colorTerapia=t?.color,this.editForm.get("color")?.setValue(null)}get colorPalette(){return this.colorTerapia?be(this.colorTerapia,15):[]}ngOnInit(){this.personalId&&this.loadPersonalData(),this.getTerapiasList(),this.getGenerosList(),this.getSedesList()}ngAfterViewInit(){this.horarios.valueChanges.subscribe(t=>{for(let o=0;o<t.length;o++){let e=t[o];e.hora_fin<e.hora_inicio&&(e.hora_fin=e.hora_inicio,this.horarios.at(o).get("hora_fin")?.setValue(e.hora_fin))}})}close(){this.modal.dismissAll()}save(){let t=new FormData;Object.keys(this.editForm.value).forEach(o=>{let e=this.editForm.get(o);Array.isArray(e?.value)?t.append(o,JSON.stringify(e?.value)):e?.value&&t.append(o,e?.value)}),this.editForm.valid&&this.personalService.update(t,this.personalId).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:o=>{if(o.error.errors){let e=Object.values(o.error.errors).join(`
`);this.toast.error(e,"Error")}else this.toast.error("Ocurri\xF3 un error al crear el personal","Error")}})}loadPersonalData(){this.personalId&&this.personalService.getById(this.personalId).subscribe({next:t=>{this.editForm.patchValue(t.data),this.colorTerapia=t.data.terapia?.color,t.data.horarios&&t.data.horarios.forEach(o=>{this.horarios.push(this.fb.group({id_horario:[o.id_horario],dia_semana:[o.dia_semana,s.required],hora_inicio:[o.hora_inicio,s.required],hora_fin:[o.hora_fin,s.required]}))})},error:t=>{this.toast.error("Ocurri\xF3 un error.","Error")}})}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(S(t=>(this.loadingGenero=!1,t.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(S(t=>t.data),D(()=>this.loadingTerapia=!1),Se(this))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(S(t=>t.data),D(()=>this.loadingSedes=!1),Se(this))}},y.\u0275fac=function(o){return new(o||y)($(x))},y.\u0275cmp=E({type:y,selectors:[["app-editar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:80,vars:20,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-notepad-edit","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","apellidos",1,"form-label"],["type","file","accept","application/pdf",1,"form-control",3,"change"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"change","items","loading"],[1,"form-group","col-6","d-flex","flex-column"],["for","",1,"form-label"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["formArrayName","horarios"],[1,"d-flex","justify-content-between","mt-4","align-items-center"],["for","",1,"form-label","fw-bolder","fs-5"],[1,"btn","btn-primary","fs-10","btn-sm","btn-icon",3,"click"],[1,"ki-duotone","ki-plus"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"d-flex","position-relative","justify-content-center","align-items-center"],["ngx-colors-trigger","","formControlName","color",1,"position-absolute",2,"display","inline-block","margin","5px","left","10px",3,"palette","hideTextInput","hideColorPicker"],["type","text","readonly","",1,"form-control","ps-16",3,"value"],[1,"form-group","d-flex","flex-column","gap-3","position-relative","p-4","border-2","mt-2","border-dashed","border-gray-300","rounded",3,"formGroupName"],["class","position-absolute end-0","style","transform: translateY(-18px) translateX(12px);",4,"ngIf"],[1,"form-group","col-4"],["type","hidden","name","id_horario","formControlName","id_horario"],["for","id_horario",1,"required","form-label"],["bindValue","value","placeholder","Seleccionar","bindLabel","name","formControlName","dia_semana",3,"items"],["type","text","mwlFlatpickr","","placeholder","Inicio","formControlName","hora_inicio",1,"form-control",3,"options"],["type","text","id","kt_calendar_datepicker_end_time","formControlName","hora_fin","mwlFlatpickr","","placeholder","Seleccionar Hora de Fin",1,"form-control",3,"options"],[1,"position-absolute","end-0",2,"transform","translateY(-18px) translateX(12px)"],[1,"btn","btn-sm","fs-10","btn-icon","btn-active-color-danger","btn-danger",3,"click"],[1,"ki-solid","ki-cross"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(o,e){o&1&&(r(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4),i()(),a(6," Editar Personal "),i(),r(7,"button",5),f("click",function(){return e.close()}),r(8,"i",6),l(9,"span",3)(10,"span",4),i()()(),r(11,"div",7)(12,"form",8)(13,"div",9)(14,"label",10),a(15,"Nombre"),i(),l(16,"input",11),i(),r(17,"div",9)(18,"label",12),a(19,"Subir Nuevo CV"),i(),r(20,"input",13),f("change",function(u){return e.evtSelectFile(u)}),i()(),r(21,"div",14)(22,"div",9)(23,"label",15),a(24,"DNI"),i(),l(25,"input",16),i(),r(26,"div",9)(27,"label",17),a(28,"Tel\xE9fono"),i(),l(29,"input",18),i()(),r(30,"div",9)(31,"label",19),a(32,"Correo"),i(),l(33,"input",20),i(),r(34,"div",21)(35,"div",22)(36,"label",23),a(37,"G\xE9nero"),i(),l(38,"ng-select",24),h(39,"async"),i(),r(40,"div",22)(41,"label",25),a(42,"Sueldo"),i(),l(43,"input",26),i()(),r(44,"div",21)(45,"div",22)(46,"label",27),a(47,"Especialidad"),i(),r(48,"ng-select",28),h(49,"async"),f("change",function(u){return e.onChangeTerapia(u)}),i()(),r(50,"div",29)(51,"label",30),a(52,"Color"),i(),b(53,Ue,3,4),U(54,53,$e),J(),i()(),r(56,"div",9)(57,"label",31),a(58,"Sede"),i(),l(59,"ng-select",32),h(60,"async"),i(),r(61,"div",21)(62,"div",33)(63,"div",34)(64,"label",35),a(65,"Horarios"),i(),r(66,"button",36),f("click",function(){return e.addHorario()}),r(67,"span")(68,"i",37),l(69,"span",3)(70,"span",4),i()()()(),b(71,Xe,17,5,"ng-container",38),i()()()(),r(72,"div",39)(73,"button",40),f("click",function(){return e.close()}),a(74," Cancelar "),i(),r(75,"button",41),h(76,"async"),f("click",function(){return e.save()}),a(77," Guardar "),b(78,Ye,1,0,"span",42),h(79,"async"),i()()),o&2&&(d(12),p("formGroup",e.editForm),d(26),p("items",g(39,10,e.generosList))("loading",e.loadingGenero),d(10),p("items",g(49,12,e.terapiasList))("loading",e.loadingTerapia),d(11),p("items",g(60,14,e.sedesList))("loading",e.loadingSedes),d(12),p("ngForOf",e.horarios.controls),d(4),p("disabled",e.editForm.invalid||g(76,16,e.isLoading)),d(3),p("ngIf",g(79,18,e.isLoading)))},dependencies:[F,N,Z,K,ee,M,Q,ne,oe,te,I,ie,re,se,de,L]}),y);Ne=H([le({checkProperties:!0}),A("design:paramtypes",[x])],Ne);function ze(n,t){n&1&&l(0,"span",13)}var Ut=(()=>{let t=class t{constructor(){this.modal=c(q),this.personalService=c(V),this.isLoading=c(w).isLoading,this.onSaveComplete=new k}close(){this.modal.dismissAll()}delete(){this.personalId!==void 0&&this.personalService.delete(this.personalId).subscribe(()=>{this.onSaveComplete.emit(),this.modal.dismissAll()})}};t.\u0275fac=function(m){return new(m||t)},t.\u0275cmp=E({type:t,selectors:[["app-borrar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:25,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-information","text-danger","fs-2hx",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(m,u){m&1&&(r(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4)(6,"span",5),i()(),a(7," Eliminar Personal "),i(),r(8,"button",6),f("click",function(){return u.close()}),r(9,"i",7),l(10,"span",3)(11,"span",4),i()()(),r(12,"div",8)(13,"p"),a(14,"\xBFEst\xE1s seguro de eliminar este registro de personal?"),i(),r(15,"p"),a(16,"Toda la informaci\xF3n relacionada con este personal se perder\xE1."),i()(),r(17,"div",9)(18,"button",10),f("click",function(){return u.close()}),a(19," Cancelar "),i(),r(20,"button",11),h(21,"async"),f("click",function(){return u.delete()}),a(22," Eliminar "),b(23,ze,1,0,"span",12),h(24,"async"),i()()),m&2&&(d(20),p("disabled",g(21,2,u.isLoading)),d(3),p("ngIf",g(24,4,u.isLoading)))},dependencies:[N,L]});let n=t;return n})();function We(n,t){if(n&1&&(r(0,"li")(1,"span",1),a(2),i(),a(3),i()),n&2){let o=t.$implicit,e=v();d(2),Te("",e.getDayWeek(o.dia_semana),":"),d(),ke(" ",e.getTime(o.hora_inicio)," - ",e.getTime(o.hora_fin)," ")}}var Xt=(()=>{let t=class t{agInit(e){this.horarios=e.data.horarios}getTime(e){return e.slice(0,5)}getDayWeek(e){return["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"][e-1]}refresh(e){return!1}};t.\u0275fac=function(m){return new(m||t)},t.\u0275cmp=E({type:t,selectors:[["app-horarios-list"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"fw-bolder"]],template:function(m,u){m&1&&(r(0,"ul"),b(1,We,4,3,"li",0),i()),m&2&&(d(),p("ngForOf",u.horarios))},dependencies:[F],encapsulation:2});let n=t;return n})();export{Fe as a,Ne as b,Ut as c,Xt as d};
