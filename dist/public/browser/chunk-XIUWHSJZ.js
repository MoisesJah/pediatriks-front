import{a as pe}from"./chunk-PZER2UBN.js";import{a as X,b as Y,c as Z,d as ee,e as te,f as ne,g as ie,h as oe,i as re,j as ce,k as ae,l as le,m as se}from"./chunk-FWMYVGKL.js";import{a as W}from"./chunk-OIXA5WM3.js";import{d as U,e as I,f as S,g as P,i as q,k as E,o as z,x as J,y as K}from"./chunk-MFZOMSUD.js";import{Aa as O,Ac as m,Ba as D,Bc as H,Cc as v,Fa as k,Fc as w,Hc as y,I as V,Lc as Q,Mc as R,Ob as d,Pa as g,Qa as f,Xb as s,Ya as $,ec as l,fc as a,gc as _,hc as h,ic as b,kc as x,oa as M,qc as C,rc as p,t as T,ua as L,uc as F,wc as G,x as N,xc as B,yc as j,zb as c}from"./chunk-JQJUQ5FW.js";function ge(t,i){if(t&1){let o=x();l(0,"button",5),C("click",function(){g(o);let e=p();return f(e.uncheckAll())}),m(1,"Limpiar "),_(2,"i",6),a()}}function fe(t,i){if(t&1){let o=x();h(0),l(1,"div",15)(2,"input",16),C("change",function(){let e=g(o).$implicit,r=p(3);return f(r.updateSelectedItem(e))}),a(),l(3,"label",17),m(4),a()(),b()}if(t&2){let o=i.$implicit;c(2),s("checked",o.checked),c(2),H(o.nombre)}}function _e(t,i){if(t&1){let o=x();l(0,"div",8)(1,"div",9)(2,"input",10),C("change",function(e){g(o);let r=p().$implicit,u=p();return f(u.checkGroup(e.target.checked,r))}),a(),l(3,"label",11),m(4),a()(),l(5,"span",12),_(6,"i",13),a(),l(7,"div",14),d(8,fe,5,2,"ng-container",4),a()()}if(t&2){let o=p().$implicit,n=p();c(2),s("indeterminate",n.isGroupIndeterminate(o))("checked",n.isGroupChecked(o)),c(2),v("",o.nombre," "),c(4),s("ngForOf",o.personal)}}function he(t,i){if(t&1&&(h(0),d(1,_e,9,4,"div",7),b()),t&2){let o=i.$implicit;c(),s("ngIf",o.personal)}}var A=(()=>{let i=class i{constructor(){this.items=[],this.selected=new $}get selectedValues(){return this.items.reduce((n,e)=>{let r=e.personal.filter(u=>u.checked).map(u=>u.id);return n.concat(r)},[])}ngOnInit(){}checkAll(n){this.items.forEach(e=>e.checked=n)}uncheckAll(){this.items.forEach(n=>n.personal.forEach(e=>e.checked=!1)),this.selected.emit(this.selectedValues)}updateSelectedItem(n){n.checked=!n.checked,this.selected.emit(this.selectedValues)}checkGroup(n,e){e.personal.forEach(r=>r.checked=n),this.selected.emit(this.selectedValues)}isGroupChecked(n){return n.personal.every(e=>e.checked)}isGroupIndeterminate(n){return!this.isGroupChecked(n)&&n.personal.some(e=>e.checked)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=k({type:i,selectors:[["app-checkbox"]],inputs:{items:"items"},outputs:{selected:"selected"},standalone:!0,features:[w],decls:6,vars:2,consts:[["ngbAccordion","",1,"d-flex","flex-column","gap-3","p-2",2,"min-width","250px"],[1,"d-flex","justify-content-between"],[1,"fw-bold","px-2","fs-5"],["type","button","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times"],["ngbAccordionItem","","class","form-check form-check-sm d-flex flex-wrap align-items-center justify-content-between",4,"ngIf"],["ngbAccordionItem","",1,"form-check","form-check-sm","d-flex","flex-wrap","align-items-center","justify-content-between"],["ngbAccordionHeader",""],["type","checkbox",1,"form-check-input",3,"change","indeterminate","checked"],["ngbAccordionTitle",""],["ngbAccordionToggle","","role","button"],[1,"fas","fa-chevron-down"],["ngbAccordionCollapse",""],["ngbAccordionBody","",1,"form-check","py-3","form-check-sm"],["type","checkbox",1,"form-check-input",3,"change","checked"],[1,"form-check-label"]],template:function(e,r){e&1&&(l(0,"div",0)(1,"div",1)(2,"span",2),m(3,"Filtrar"),a(),d(4,ge,3,0,"button",3),a(),d(5,he,2,1,"ng-container",4),a()),e&2&&(c(4),s("ngIf",r.selectedValues.length),c(),s("ngForOf",r.items))},dependencies:[ie,ne,te,ee,Z,X,Y,E,I,S,oe]});let t=i;return t})();var be=t=>({"d-none":t}),xe=t=>({"ps-3":t}),Ce=t=>({"background-color":t});function ve(t,i){if(t&1){let o=x();l(0,"div",11)(1,"app-checkbox",12),C("selected",function(e){g(o);let r=p(2);return f(r.changeSelectedItems(e))}),a()()}if(t&2){let o=p(2);c(),s("items",o.checkBoxList)}}function ke(t,i){if(t&1&&(h(0),l(1,"a",13),m(2),a(),b()),t&2){let o=i.$implicit;c(),F("routerLink",o.link),c(),v(" ",o.nombre," ")}}function we(t,i){if(t&1&&(l(0,"div",11),d(1,ke,3,2,"ng-container",4),a()),t&2){let o=p().$implicit;c(),s("ngForOf",o.personal)}}function ye(t,i){if(t&1&&(h(0),l(1,"div",5,0)(3,"div",6),_(4,"span",7),l(5,"a",8),m(6),_(7,"span",9),a()(),d(8,ve,2,1,"div",10)(9,we,2,1,"div",10),a(),b()),t&2){let o=i.$implicit,n=p();c(4),s("ngClass",y(7,be,n.displayFilters(o))),c(),F("routerLink",o.link),s("ngClass",y(9,xe,o.nombre==="Cronograma General")),c(),v(" ",o.nombre," "),c(),s("ngStyle",y(11,Ce,o.color)),c(),s("ngIf",o.nombre==="Cronograma General"),c(),s("ngIf",o.personal)}}var He=(()=>{let i=class i{constructor(){this.terapiasService=D(pe),this.router=D(J),this.showSubmenu=null,this.selectedItems=new N([]),this.terapiasList=new T,this.checkBoxList=[]}get showFilters(){return this.router.url==="/admin/reservar-cita"}displayFilters(n){let e=n.nombre==="Cronograma General";return this.router.url!=="/admin/reservar-cita"&&e}ngOnInit(){this.terapiasList=this.terapiasService.getAllPersonal().pipe(V(n=>[{link:"/admin/reservar-cita",nombre:"Cronograma General"},...n.data.map(e=>({link:`/admin/reservar-cita/${e.id_terapia}`,nombre:e.nombre,color:e.color,personal:e.personal.map(r=>({link:`/admin/reservar-cita/${e.id_terapia}/${r.id_personal}`,nombre:r.nombre,checked:!1,id:r.id_personal}))}))]),M(n=>{this.checkBoxList=n.filter(e=>e.personal)}))}changeSelectedItems(n){this.selectedItems.next(n)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=k({type:i,selectors:[["app-dropdown"]],viewQuery:function(e,r){if(e&1&&G(A,5),e&2){let u;B(u=j())&&(r.viewChildren=u)}},standalone:!0,features:[w],decls:6,vars:3,consts:[["dropdown","ngbDropdown"],["ngbDropdown","","placement","bottom-end",1,"d-inline-block"],["ngbDropdownToggle","",1,"btn","btn-secondary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],[4,"ngFor","ngForOf"],["ngbDropdown","","placement","left-top",1,"d-inline-block","w-100"],[1,"d-flex","dropdown-content","align-items-center"],["role","button","ngbDropdownToggle","",1,"px-3",3,"ngClass"],["ngbDropdownItem","",1,"ps-0","d-flex","align-items-center","justify-content-between",3,"routerLink","ngClass"],[1,"h-8px","w-8px","d-inline-block","rounded-circle",3,"ngStyle"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic2",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic2"],[3,"selected","items"],["ngbDropdownItem","",3,"routerLink"]],template:function(e,r){e&1&&(l(0,"div",1)(1,"button",2),m(2," Seleccionar Terapia "),a(),l(3,"div",3),d(4,ye,10,13,"ng-container",4),Q(5,"async"),a()()),e&2&&(c(4),s("ngForOf",R(5,1,r.terapiasList)))},dependencies:[se,le,ae,ce,re,E,U,I,S,P,q,K,A]});let t=i;return t})();var Pe=(()=>{let i=class i{constructor(n){this.http=n,this.apiUrl=W.apiUrl}getAll(){return this.http.get(`${this.apiUrl}/tipocita/list`)}};i.\u0275fac=function(e){return new(e||i)(O(z))},i.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();export{Pe as a,He as b};
