import{a as ie,b as oe,c as ne,d as re,e as ae,f as P}from"./chunk-ANKUF56H.js";import{a as _}from"./chunk-QH5UKWKK.js";import{ib as S,jb as se,mb as de}from"./chunk-G7DVIJV4.js";import{a as me}from"./chunk-Q2EOP2E5.js";import{a as te}from"./chunk-J7SPION6.js";import"./chunk-4VMHRPQE.js";import"./chunk-OLF4U65X.js";import"./chunk-N3446XRF.js";import"./chunk-74A4TY7I.js";import{d as ee}from"./chunk-E2DR7QOK.js";import"./chunk-NQFS4EYQ.js";import"./chunk-GT4JH6HJ.js";import{a as Y,b as $}from"./chunk-MN65TUXJ.js";import{a as X}from"./chunk-IYBN42Q7.js";import{b,g as K,h as x,j as y}from"./chunk-AQJAMIXE.js";import"./chunk-YR44ZVP5.js";import{e as U,g as q,j as Z,l as J,s as v,u as C,x as M}from"./chunk-EITZOAMY.js";import{Ab as T,B as W,C as F,Cb as N,Da as L,Ea as p,Fb as R,I as l,Mc as h,Ob as a,Pb as s,Qb as D,Rb as V,Sb as G,_b as E,dc as A,ec as H,fc as Q,hc as f,ic as z,jb as O,kb as d,rc as B,t as I,ta as c,vc as u,wb as w,wc as g,za as m}from"./chunk-LYSYPXVF.js";var le=[{id:0,nombre:"Cronograma",tag:"general"},{id:1,nombre:"Psicologia 1",tag:"psicologia-1"},{id:2,nombre:"Psicologia 2",tag:"psicologia-2"},{id:3,nombre:"Lenguaje 1",tag:"lenguaje-1"},{id:4,nombre:"Lenguaje 2",tag:"lenguaje-2"},{id:5,nombre:"Lenguaje 3",tag:"lenguaje-3"},{id:6,nombre:"Ocupacional 1",tag:"ocupacional-1"},{id:7,nombre:"Ocupacional 2",tag:"ocupacional-2"},{id:8,nombre:"Ocupacional 3",tag:"ocupacional-3"},{id:9,nombre:"Fisica 1",tag:"fisica-1"},{id:10,nombre:"Fisica 2",tag:"fisica-2"},{id:11,nombre:"Fisica 3",tag:"fisica-3"},{id:12,nombre:"Neuro",tag:"neuro"},{id:13,nombre:"Pediasuit",tag:"pediasuit"}];var ue=()=>[U,q,S,Z],ge=t=>({"opacity-50":t});function he(t,e){if(t&1&&(D(0,"full-calendar",11),u(1,"async"),u(2,"async"),u(3,"async")),t&2){let i=E(2);R("ngClass",B(10,ge,g(1,4,i.isLoading)))("loading",g(2,6,i.isLoading))("events",g(3,8,i.citasEvent))("options",i.calendarOptions)}}function ve(t,e){if(t&1&&w(0,he,4,12,"full-calendar",10),t&2){let i=E();R("ngIf",i.calendarVisible)}}function Ce(t,e){t&1&&(a(0,"div",12)(1,"div",13)(2,"span",14),f(3,"Loading..."),s()()())}var n,k=(n=class{get bodyParams(){return{startWeek:this.startWeek,endWeek:this.endWeek}}constructor(e,i,o,r){this.changeDetector=e,this.router=i,this.modalService=o,this.route=r,this.citasService=m(me),this.terapiasService=m(K),this.isLoading=m(X).isLoading,this.cronogramas=le,this.citasEvent=new I,this.terapiasList=[],this.subscriptions=[],this.listLoading=!1,this.startWeek=P().startOfWeek,this.endWeek=P().endOfWeek,this.calendarVisible=!0,this.calendarOptions={plugins:[ie,oe,ne,re],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},allDaySlot:!1,expandRows:!0,eventMinHeight:30,slotDuration:"00:45:00",slotMinTime:"08:00",slotMaxTime:"20:01:00",slotLabelFormat:{hour:"numeric",minute:"2-digit",omitZeroMinute:!1,meridiem:"narrow"},eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},initialView:"timeGridWeek",weekends:!0,editable:!0,selectMirror:!0,dayMaxEvents:!0,eventClick:this.handleEventClick.bind(this),locale:ae,datesSet:j=>{this.startWeek=j.view.activeStart,this.endWeek=j.view.activeEnd,this.loadCitas(this.bodyParams)}},this.currentEvents=[]}ngOnInit(){}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadCitas(e){this.citasEvent=this.citasService.getAll(e).pipe(l(i=>i.data),$(this))}handleCalendarToggle(){this.calendarVisible=!this.calendarVisible}handleWeekendsToggle(){let{calendarOptions:e}=this;e.weekends=!e.weekends}handleDateSelect(e){this.modalService.open(_,{centered:!0,size:"lg",backdrop:"static"}).componentInstance.eventForm.patchValue({fecha_inicio:e.startStr.substring(0,10),hora_inicio:e.startStr.substring(11,16),hora_fin:e.endStr.substring(11,16)})}handleEventClick(e){let i=e.event,o=this.modalService.open(de,{centered:!0,size:"100",scrollable:!0,backdrop:"static"});o.componentInstance.eventId=i.id,o.componentInstance.citaId=i.extendedProps.id_cita,o.componentInstance.eventUpdated.subscribe(()=>{this.loadCitas(this.bodyParams)})}openModal(){this.modalService.open(_,{centered:!0,size:"lg",backdrop:"static"}).componentInstance.eventSubmitted.subscribe(()=>{this.loadCitas(this.bodyParams)})}},n.\u0275fac=function(i){return new(i||n)(d(h),d(C),d(b),d(v))},n.\u0275cmp=L({type:n,selectors:[["app-reservar-cita"]],viewQuery:function(i,o){if(i&1&&A(S,5),i&2){let r;H(r=Q())&&(o.fullCalendarComponent=r.first)}},decls:19,vars:1,consts:[["header-title",""],[1,"d-flex","flex-column","text-white","fw-bold","my-1"],[1,"content","d-flex","flex-column","flex-column-fluid"],["id","kt_content_container",1,"container-xxl"],[1,"card"],[1,"card-header"],[1,"card-title","fw-bold"],[1,"card-toolbar","d-flex"],[1,"card-body",2,"border","none","box-shadow","0 4px 8px rgba(0, 0, 0, 0.1)","border-radius","0 0 15px 15px"],[1,"demo-app-main"],[3,"ngClass","loading","events","options",4,"ngIf"],[3,"ngClass","loading","events","options"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100%"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(i,o){i&1&&(a(0,"app-header"),V(1,0),a(2,"h1",1),f(3," Cronograma General "),s(),G(),s(),a(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h2",6),f(9),s(),a(10,"div",7)(11,"div"),D(12,"app-dropdown"),s()()(),a(13,"div",8)(14,"div",9),w(15,ve,1,1)(16,Ce,4,0),T(17,15,ue,null,16),N(),s()()()()()),i&2&&(O(9),z(o.cronogramaActual==null?null:o.cronogramaActual.nombre))},dependencies:[y,x]}),n);k=W([Y({checkProperties:!0}),F("design:paramtypes",[h,C,b,v])],k);var pe=(t,e)=>m(te).getHorarios(t.paramMap.get("terapist")).pipe(l(o=>o.data));var be=[{path:"",component:k},{path:":tag",loadComponent:()=>import("./chunk-4H4B4YKP.js").then(t=>t.CronogramaComponent)},{path:":tag/:terapist",resolve:{personal:pe},loadComponent:()=>import("./chunk-XMQ5ORM5.js").then(t=>t.EspecialistaComponent)}],fe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=p({type:e}),e.\u0275inj=c({imports:[M.forChild(be),M]});let t=e;return t})();var pt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=p({type:e}),e.\u0275inj=c({imports:[J,fe,se,y,ee,x]});let t=e;return t})();export{pt as ReservarCitaModule};
