import{a as z}from"./chunk-PNB2OZ2U.js";import{a as y}from"./chunk-E6U7EDCE.js";import{a as V}from"./chunk-MYRVSVX3.js";import{a as O,b as j}from"./chunk-OWRVEPA3.js";import{a as I}from"./chunk-C7Z7GTCA.js";import{b as R,i as B,j as G}from"./chunk-PD56GGPI.js";import{c as g,e as A,j as k,l as L}from"./chunk-VUZMLSUX.js";import{B as _,Bb as T,Da as C,Eb as p,I as v,Ma as q,Na as D,Nb as i,Ob as r,Pb as s,Qb as P,Rb as w,Tb as N,Yb as d,Zb as c,gc as u,ib as b,lc as E,nc as M,rc as f,sc as h,t as x,vb as S,za as l,zb as F}from"./chunk-UAHLOU27.js";var U=()=>[k,import("./chunk-TNWPTU74.js").then(o=>o.AgGridAngular)],J=o=>[o];function K(o,e){if(o&1){let t=N();i(0,"ag-grid-angular",19),f(1,"async"),f(2,"async"),d("gridReady",function(m){q(t);let H=c();return D(H.gridReady(m))}),r()}if(o&2){let t=c();p("rowData",h(1,6,t.paquetesList))("localeText",t.localeText)("columnDefs",t.colDefs)("pagination",!0)("enableCellTextSelection",!0)("loading",h(2,8,t.isLoading))}}var n,$=(n=class{constructor(){this.paquetesService=l(z),this.isLoading=l(I).isLoading,this.theme=l(B),this.modal=l(R),this.paquetesList=new x,this.localeText=V,this.colDefs=[{field:"nombre",headerName:"Nombre",filter:!0},{field:"descripcion",headerName:"Descripcion"},{field:"terapias",headerName:"Terapias Incluidas",filter:!0,filterValueGetter:e=>e.data.terapias.map(a=>a.nombre).join(", "),valueFormatter:e=>e.data.terapias.map(a=>a.nombre).join(", "),cellRenderer:e=>`<ul>${e.data.terapias.map(a=>`<li>${a.nombre}</li>`).join("")}</ul>`,autoHeight:!0},{field:"cantidadsesiones",headerName:"Cantidad de Sesiones"},{field:"precioregular",headerName:"Precio Regular",valueFormatter:e=>y(e.value)},{field:"descuento",headerName:"Descuento",valueFormatter:e=>`${e.value}%`},{field:"preciopaquete",headerName:"Precio del Paquete",valueFormatter:e=>y(e.value)},{field:"fechainicio",headerName:"Fecha de Inicio",filter:"agDateColumnFilter",valueFormatter:e=>g(e.value,"dd/MM/yyyy","en")},{field:"fechafin",headerName:"Fecha de Fin",filter:"agDateColumnFilter",valueFormatter:e=>g(e.value,"dd/MM/yyyy","en")}]}ngOnInit(){this.fetchPaquetes()}fetchPaquetes(){this.paquetesList=this.paquetesService.getAll().pipe(v(e=>e.data),j(this))}loadTabla(){this.fetchPaquetes()}gridReady(e){this.gridApi=e.api}onFilterTextBoxChanged(){this.gridApi.setGridOption("quickFilterText",document.getElementById("paquete-search").value)}ngOnDestroy(){}},n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=C({type:n,selectors:[["app-paquetes"]],standalone:!0,features:[E],decls:25,vars:3,consts:[["header-title",""],[1,"d-flex","flex-column","text-gray-900","fw-bold","my-1"],[1,"",2,"color","white"],[1,"content","d-flex","flex-column","flex-column-fluid"],[1,"container-xxl"],[1,"card","shadow","p-2","px-4"],[1,"d-flex","py-4","justify-content-between","align-items-center"],["data-kt-search-element","form","autocomplete","off",1,"position-relative"],["type","hidden"],[1,"ki-duotone","ki-magnifier","fs-2","search-icon","position-absolute","top-50","translate-middle-y","ms-4"],[1,"path1"],[1,"path2"],["type","search","id","paquete-search","name","search","value","","placeholder","B\xFAsqueda","data-kt-search-element","input",1,"form-control","custom-form-control","ps-13",3,"input"],[1,"d-flex","align-items-center","gap-3"],["type","button",1,"btn","btn-light-primary",3,"click"],[1,"d-flex","align-items-center"],[1,"fa-solid","fa-rotate-right"],[1,"ms-2"],["id","myGrid",2,"height","400px",3,"ngClass"],["loadingMessage","Cargando...",2,"width","100%","height","100%",3,"gridReady","rowData","localeText","columnDefs","pagination","enableCellTextSelection","loading"]],template:function(t,a){t&1&&(i(0,"app-header"),P(1,0),i(2,"h1",1)(3,"span",2),u(4,"Paquetes Disponibles"),r()(),w(),r(),i(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7),s(10,"input",8),i(11,"i",9),s(12,"span",10)(13,"span",11),r(),i(14,"input",12),d("input",function(){return a.onFilterTextBoxChanged()}),r()(),i(15,"div",13)(16,"button",14),d("click",function(){return a.loadTabla()}),i(17,"span",15),s(18,"span",16),i(19,"span",17),u(20,"Actualizar"),r()()()()(),i(21,"div",18),S(22,K,3,10),F(23,22,U),T(),r()()()()),t&2&&(b(21),p("ngClass",M(1,J,a.theme.getThemeMode()==="light"?"ag-theme-quartz":"ag-theme-quartz-dark")))},dependencies:[L,A,G]}),n);$=_([O()],$);export{$ as a};
