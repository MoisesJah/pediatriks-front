import{b as ve}from"./chunk-T5EURV5D.js";import{a as be}from"./chunk-XV2NW2ZH.js";import{a as V}from"./chunk-7N33FE2K.js";import{a as fe,b as he}from"./chunk-ZMD5T4OP.js";import{a as ce}from"./chunk-QS4OO5UP.js";import{a as ge}from"./chunk-KYEDX4GU.js";import{a as pe}from"./chunk-UADOA573.js";import{c as me}from"./chunk-A2PIED2A.js";import{a as ue}from"./chunk-7APDJY62.js";import{o as w}from"./chunk-CUMGWIKM.js";import{c as Z,d as s,e as I,f as ee,k as te,l as ie,o as re,p as oe,q as ne,r as q,v as ae,x as le,y as E}from"./chunk-OSUEIBEK.js";import{a as H}from"./chunk-4TSZW343.js";import{a as se,b as de}from"./chunk-OO4BC6LN.js";import{a as Q}from"./chunk-GKZUPR7X.js";import{b as K}from"./chunk-QUGPZPJP.js";import{n as F,o as M,t as L}from"./chunk-O2FCGDZ2.js";import{Ba as y,Bc as a,C,Dc as ke,Ec as Fe,La as j,Ma as U,Mb as b,Qb as X,Qc as h,Rc as g,Sb as Y,Ua as k,Vb as m,a as Te,aa as D,b as Ne,ec as r,fc as t,gc as l,hc as z,ic as W,kc as R,n as _,qa as B,qc as f,rc as v,v as G,w as O,wa as $,wb as d,xa as c,xb as J}from"./chunk-H565K2KG.js";var _e=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${Q.apiUrl}/horariopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(e){return this.http.get(`${this.apiUrl}/list/${e}`)}create(e){return this.http.post(`${this.apiUrl}/add`,e)}update(e,i){return this.http.put(`${this.apiUrl}/edit/${e}`,i)}delete(e){return this.http.delete(`${this.apiUrl}/delete/${e}`)}static{this.\u0275fac=function(i){return new(i||n)($(K))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Se=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${Q.apiUrl}/tipopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(e){return this.http.get(`${this.apiUrl}/list/${e}`)}create(e){return this.http.post(`${this.apiUrl}/add`,e)}update(e,i){return this.http.put(`${this.apiUrl}/edit/${e}`,i)}delete(e){return this.http.delete(`${this.apiUrl}/delete/${e}`)}static{this.\u0275fac=function(i){return new(i||n)($(K))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ce(n,o=10){n=n.charAt(0)==="#"?n:"#"+n;let e=parseInt(n.slice(1,3),16),i=parseInt(n.slice(3,5),16),p=parseInt(n.slice(5,7),16),u=Math.min(e,i,p),x=Math.round((255-u)*.25),N=[];for(let S=1;S<=o;S++){let T=S/o,A=Math.min(255,Math.round(e+x*T)),Ie=Math.min(255,Math.round(i+x*T)),qe=Math.min(255,Math.round(p+x*T)),we="#"+A.toString(16).padStart(2,"0")+Ie.toString(16).padStart(2,"0")+qe.toString(16).padStart(2,"0");N.push(we)}return N}var Ge=()=>[I,q,he,fe];function Oe(n,o){if(n&1&&(r(0,"div",51),l(1,"ngx-colors",52)(2,"input",53),t()),n&2){let e,i=v();d(),m("palette",i.colorPalette)("hideTextInput",!0)("hideColorPicker",!0),d(),m("value",(e=i.personalForm.get("color"))==null?null:e.value)}}function Be(n,o){if(n&1){let e=R();r(0,"div",60)(1,"button",61),f("click",function(){j(e);let p=v().index,u=v();return U(u.removeHorario(p))}),l(2,"i",62),t()()}}function $e(n,o){if(n&1&&(z(0),r(1,"div",54),b(2,Be,3,0,"div",55),r(3,"div",23)(4,"div",33)(5,"label",56),a(6,"Dia de Semana"),t(),l(7,"ng-select",57),t(),r(8,"div",33)(9,"label",56),a(10,"Hora de Inicio"),t(),l(11,"input",58),t(),r(12,"div",33)(13,"label",56),a(14,"Hora de Fin"),t(),l(15,"input",59),t()()(),W()),n&2){let e=o.index,i=v();d(),m("@listItemAnimation",void 0)("formGroupName",e),d(),m("ngIf",e>0),d(5),m("items",i.dias),d(4),m("options",i.timeOptions),d(4),m("options",i.timeOptions)}}function je(n,o){n&1&&l(0,"span",63)}var Me=class ye{constructor(o){this.fb=o,this.modal=c(w),this.toast=c(pe),this.isLoading=c(H).isLoading,this.personalService=c(V),this.tipoPersonalService=c(Se),this.terapiaService=c(ce),this.horarioPersonalService=c(_e),this.generosService=c(ge),this.sedesService=c(be),this.tiposPersonalList=new _,this.terapiasList=new _,this.horariosList=new _,this.generosList=new _,this.sedesList=new _,this.archivo=null,this.colorTerapia=null,this.timeOptions={enableTime:!0,noCalendar:!0,minTime:"08:00",maxTime:"20:00",dateFormat:"H:i"},this.dias=[{value:1,name:"Lunes"},{value:2,name:"Martes"},{value:3,name:"Mi\xE9rcoles"},{value:4,name:"Jueves"},{value:5,name:"Viernes"},{value:6,name:"S\xE1bado"}],this.onSaveComplete=new k,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.personalForm=this.fb.group({nombre:["",s.required],dni:["",[s.required,s.minLength(8),s.pattern("^[0-9]*")]],telefono:["",[s.required,s.pattern("^[0-9]*")]],correo:["",[s.required,s.email]],id_genero:[null,s.required],id_sede:[null,s.required],sueldo:[0,[s.required,s.min(0)]],id_terapia:[null,s.required],cv:[null],color:[null,s.required],nro_colegiatura:["",[s.required,s.pattern("^[0-9]*")]],direccion:[""],horarios:this.fb.array([this.createHorario()])})}get horarios(){return this.personalForm.get("horarios")}createHorario(){return this.fb.group({dia_semana:[null,s.required],hora_inicio:[null,s.required],hora_fin:[null,s.required]})}onChangeTerapia(o){this.colorTerapia=o?.color,this.personalForm.get("color")?.setValue(null)}get colorPalette(){return this.colorTerapia?Ce(this.colorTerapia,15):[]}addHorario(){this.horarios.push(this.createHorario())}removeHorario(o){this.horarios.removeAt(o)}ngOnInit(){this.getTerapiasList(),this.getGenerosList(),this.getSedesList()}ngAfterViewInit(){this.horarios.valueChanges.subscribe(o=>{for(let e=0;e<o.length;e++){let i=o[e],p=i.hora_inicio,u=i.hora_fin;if(p>u){let[x,N]=p.split(":").map(Number),S=N+60,T=x+Math.floor(S/60),A=S%60;this.horarios.at(e).get("hora_fin")?.setValue(`${T.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`,{emitEvent:!1})}}})}close(){this.modal.dismissAll()}save(){this.personalForm.valid&&this.personalService.create(Ne(Te({},this.personalForm.value),{horarios:this.horarios.value})).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:o=>{if(o.error.errors){let e=Object.values(o.error.errors).join(`
`);this.toast.error(e,"Error")}else this.toast.error("Ocurri\xF3 un error al crear el personal","Error")}})}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(C(o=>(this.loadingGenero=!1,o.data)))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(C(o=>(this.loadingSedes=!1,o.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(C(o=>o.data),D(()=>this.loadingTerapia=!1))}getHorariosList(){this.loadingHorario=!0,this.horariosList=this.horarioPersonalService.getAll().pipe(C(o=>(this.loadingHorario=!1,o.data)))}evtSelectFile(o){let e=o.target.files,i=e?e[0]:null;this.archivo=i,this.personalForm.patchValue({cv:this.archivo})}static{this.\u0275fac=function(e){return new(e||ye)(J(E))}}static{this.\u0275cmp=y({type:ye,selectors:[["app-crear-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:90,vars:20,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"text-primary"],[1,"ki-duotone","ki-add-files","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],["enctype","multipart/form-data",1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresar Nombre",1,"form-control"],["for",""],["type","file","id","cv","accept","application/pdf",1,"form-control",3,"change"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni","placeholder","Ingresar DNI",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono","placeholder","Ingresar Telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo","placeholder","Ingresar Correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"change","items","loading"],[1,"form-group","col-6","d-flex","flex-column"],["for","",1,"form-label"],[1,"form-group","col-4"],[1,"required","form-label"],["type","text","formControlName","nro_colegiatura",1,"form-control"],[1,"form-group","col-8"],[1,"form-label"],["type","text","formControlName","direccion",1,"form-control"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["formArrayName","horarios"],[1,"d-flex","justify-content-between","mt-4","align-items-center"],["for","",1,"form-label","fw-bolder","fs-5"],[1,"btn","btn-primary","fs-10","btn-sm","btn-icon",3,"click"],[1,"ki-duotone","ki-plus"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"d-flex","position-relative","justify-content-center","align-items-center"],["ngx-colors-trigger","","formControlName","color",1,"position-absolute",2,"display","inline-block","margin","5px","left","10px",3,"palette","hideTextInput","hideColorPicker"],["type","text","readonly","",1,"form-control","ps-16",3,"value"],[1,"form-group","d-flex","flex-column","gap-3","position-relative","p-4","border-2","mt-2","border-dashed","border-gray-300","rounded",3,"formGroupName"],["class","position-absolute end-0","style","transform: translateY(-18px) translateX(12px);",4,"ngIf"],["for","id_horario",1,"required","form-label"],["bindValue","value","placeholder","Seleccionar","bindLabel","name","formControlName","dia_semana",3,"items"],["type","text","mwlFlatpickr","","placeholder","Inicio","formControlName","hora_inicio",1,"form-control",3,"options"],["type","text","id","kt_calendar_datepicker_end_time","formControlName","hora_fin","mwlFlatpickr","","placeholder","Seleccionar Hora de Fin",1,"form-control",3,"options"],[1,"position-absolute","end-0",2,"transform","translateY(-18px) translateX(12px)"],[1,"btn","btn-sm","fs-10","btn-icon","btn-active-color-danger","btn-danger",3,"click"],[1,"ki-solid","ki-cross"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h4",1)(2,"span",2)(3,"i",3),l(4,"span",4)(5,"span",5)(6,"span",6),t()(),a(7," A\xF1adir Personal "),t(),r(8,"button",7),f("click",function(){return i.close()}),r(9,"i",8),l(10,"span",4)(11,"span",5),t()()(),r(12,"div",9)(13,"form",10)(14,"div",11)(15,"label",12),a(16,"Nombre"),t(),l(17,"input",13),t(),r(18,"div",11)(19,"label",14),a(20,"CV"),t(),r(21,"input",15),f("change",function(u){return i.evtSelectFile(u)}),t()(),r(22,"div",16)(23,"div",11)(24,"label",17),a(25,"DNI"),t(),l(26,"input",18),t(),r(27,"div",11)(28,"label",19),a(29,"Tel\xE9fono"),t(),l(30,"input",20),t()(),r(31,"div",11)(32,"label",21),a(33,"Correo"),t(),l(34,"input",22),t(),r(35,"div",23)(36,"div",24)(37,"label",25),a(38,"G\xE9nero"),t(),l(39,"ng-select",26),h(40,"async"),t(),r(41,"div",24)(42,"label",27),a(43,"Sueldo"),t(),l(44,"input",28),t()(),r(45,"div",23)(46,"div",24)(47,"label",29),a(48,"Especialidad"),t(),r(49,"ng-select",30),h(50,"async"),f("change",function(u){return i.onChangeTerapia(u)}),t()(),r(51,"div",31)(52,"label",32),a(53,"Color"),t(),b(54,Oe,3,4),X(55,54,Ge),Y(),t()(),r(57,"div",23)(58,"div",33)(59,"label",34),a(60,"N\xB0 Colegiatura"),t(),l(61,"input",35),t(),r(62,"div",36)(63,"label",37),a(64,"Direcci\xF3n"),t(),l(65,"input",38),t()(),r(66,"div",11)(67,"label",39),a(68,"Sede"),t(),l(69,"ng-select",40),h(70,"async"),t(),r(71,"div",23)(72,"div",41)(73,"div",42)(74,"label",43),a(75,"Horarios"),t(),r(76,"button",44),f("click",function(){return i.addHorario()}),r(77,"span")(78,"i",45),l(79,"span",4)(80,"span",5),t()()()(),b(81,$e,16,6,"ng-container",46),t()()()(),r(82,"div",47)(83,"button",48),f("click",function(){return i.close()}),a(84," Cancelar "),t(),r(85,"button",49),h(86,"async"),f("click",function(){return i.save()}),a(87," Guardar "),b(88,je,1,0,"span",50),h(89,"async"),t()()),e&2&&(d(13),m("formGroup",i.personalForm),d(26),m("items",g(40,10,i.generosList))("loading",i.loadingGenero),d(10),m("items",g(50,12,i.terapiasList))("loading",i.loadingTerapia),d(20),m("items",g(70,14,i.sedesList))("loading",i.loadingSedes),d(12),m("ngForOf",i.horarios.controls),d(4),m("disabled",i.personalForm.invalid||g(86,16,i.isLoading)),d(3),m("ngIf",g(89,18,i.isLoading)))},dependencies:[F,M,te,Z,ie,I,ee,le,ae,re,q,oe,ne,me,ue,L],data:{animation:[ve]}})}};Me=G([se({checkProperties:!0}),O("design:paramtypes",[E])],Me);var Ue=()=>[I,q,he,fe];function Je(n,o){if(n&1&&(r(0,"div",49),l(1,"ngx-colors",50)(2,"input",51),t()),n&2){let e,i=v();d(),m("palette",i.colorPalette)("hideTextInput",!0)("hideColorPicker",!0),d(),m("value",(e=i.editForm.get("color"))==null?null:e.value)}}function Xe(n,o){if(n&1){let e=R();r(0,"div",59)(1,"button",60),f("click",function(){j(e);let p=v().index,u=v();return U(u.removeHorario(p))}),l(2,"i",61),t()()}}function Ye(n,o){if(n&1&&(z(0),r(1,"div",52),b(2,Xe,3,0,"div",53),r(3,"div",21)(4,"div",31),l(5,"input",54),r(6,"label",55),a(7,"Dia de Semana"),t(),l(8,"ng-select",56),t(),r(9,"div",31)(10,"label",55),a(11,"Hora de Inicio"),t(),l(12,"input",57),t(),r(13,"div",31)(14,"label",55),a(15,"Hora de Fin"),t(),l(16,"input",58),t()()(),W()),n&2){let e=o.index,i=v();d(),m("@listItemAnimation",void 0)("formGroupName",e),d(),m("ngIf",e>0),d(6),m("items",i.dias),d(4),m("options",i.timeOptions),d(4),m("options",i.timeOptions)}}function ze(n,o){n&1&&l(0,"span",62)}var Le=class xe{constructor(o){this.fb=o,this.modal=c(w),this.toast=c(pe),this.personalService=c(V),this.tipoPersonalService=c(Se),this.terapiaService=c(ce),this.horarioPersonalService=c(_e),this.isLoading=c(H).isLoading,this.generosService=c(ge),this.sedesService=c(be),this.terapiasList=new _,this.horariosList=new _,this.generosList=new _,this.sedesList=new _,this.timeOptions={enableTime:!0,noCalendar:!0,dateFormat:"H:i"},this.dias=[{value:1,name:"Lunes"},{value:2,name:"Martes"},{value:3,name:"Mi\xE9rcoles"},{value:4,name:"Jueves"},{value:5,name:"Viernes"},{value:6,name:"S\xE1bado"}],this.colorTerapia=null,this.onSaveComplete=new k,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.editForm=this.fb.group({nombre:["",s.required],dni:["",[s.required,s.pattern("^[0-9]*")]],telefono:["",[s.required,s.pattern("^[0-9]*")]],correo:["",[s.required,s.email]],id_genero:[null,s.required],id_sede:[null,s.required],sueldo:["",[s.required,s.min(0)]],id_terapia:[null,s.required],horarios:this.fb.array([]),cv:[null],nro_colegiatura:["",[s.required,s.pattern("^[0-9]*")]],direccion:[""],color:[null,s.required]})}get horarios(){return this.editForm.get("horarios")}createHorario(){return this.fb.group({id_horario:[null],dia_semana:[null,s.required],hora_inicio:[null,s.required],hora_fin:[null,s.required]})}addHorario(){this.horarios.push(this.createHorario())}removeHorario(o){this.horarios.removeAt(o)}evtSelectFile(o){let e=o.target.files;this.editForm.get("cv")?.setValue(e?.item(0))}onChangeTerapia(o){this.colorTerapia=o?.color,this.editForm.get("color")?.setValue(null)}get colorPalette(){return this.colorTerapia?Ce(this.colorTerapia,15):[]}ngOnInit(){this.personalId&&this.loadPersonalData(),this.getTerapiasList(),this.getGenerosList(),this.getSedesList()}ngAfterViewInit(){this.horarios.valueChanges.subscribe(o=>{for(let e=0;e<o.length;e++){let i=o[e],p=i.hora_inicio,u=i.hora_fin;if(p>u){let[x,N]=p.split(":").map(Number),S=N+60,T=x+Math.floor(S/60),A=S%60;this.horarios.at(e).get("hora_fin")?.setValue(`${T.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`,{emitEvent:!1})}}})}close(){this.modal.dismissAll()}save(){let o=new FormData;Object.keys(this.editForm.value).forEach(e=>{let i=this.editForm.get(e);Array.isArray(i?.value)?o.append(e,JSON.stringify(i?.value)):i?.value&&o.append(e,i?.value)}),this.editForm.valid&&this.personalService.update(o,this.personalId).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:e=>{if(e.error.errors){let i=Object.values(e.error.errors).join(`
`);this.toast.error(i,"Error")}else this.toast.error("Ocurri\xF3 un error al crear el personal","Error")}})}loadPersonalData(){this.personalId&&this.personalService.getById(this.personalId).pipe(de(this)).subscribe({next:o=>{this.editForm.patchValue(o.data),this.colorTerapia=o.data.terapia?.color,o.data.horarios&&o.data.horarios.forEach(e=>{this.horarios.push(this.fb.group({id_horario:[e.id_horario],dia_semana:[e.dia_semana,s.required],hora_inicio:[e.hora_inicio,s.required],hora_fin:[e.hora_fin,s.required]}))})},error:o=>{this.toast.error("Ocurri\xF3 un error.","Error")}})}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(C(o=>(this.loadingGenero=!1,o.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(C(o=>o.data),D(()=>this.loadingTerapia=!1),de(this))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(C(o=>o.data),D(()=>this.loadingSedes=!1),de(this))}static{this.\u0275fac=function(e){return new(e||xe)(J(E))}}static{this.\u0275cmp=y({type:xe,selectors:[["app-editar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:89,vars:20,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-notepad-edit","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","apellidos",1,"form-label"],["type","file","accept","application/pdf",1,"form-control",3,"change"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"change","items","loading"],[1,"form-group","col-6","d-flex","flex-column"],["for","",1,"form-label"],[1,"form-group","col-4"],[1,"required","form-label"],["type","text","formControlName","nro_colegiatura",1,"form-control"],[1,"form-group","col-8"],[1,"form-label"],["type","text","formControlName","direccion",1,"form-control"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["formArrayName","horarios"],[1,"d-flex","justify-content-between","mt-4","align-items-center"],["for","",1,"form-label","fw-bolder","fs-5"],[1,"btn","btn-primary","fs-10","btn-sm","btn-icon",3,"click"],[1,"ki-duotone","ki-plus"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"d-flex","position-relative","justify-content-center","align-items-center"],["ngx-colors-trigger","","formControlName","color",1,"position-absolute",2,"display","inline-block","margin","5px","left","10px",3,"palette","hideTextInput","hideColorPicker"],["type","text","readonly","",1,"form-control","ps-16",3,"value"],[1,"form-group","d-flex","flex-column","gap-3","position-relative","p-4","border-2","mt-2","border-dashed","border-gray-300","rounded",3,"formGroupName"],["class","position-absolute end-0","style","transform: translateY(-18px) translateX(12px);",4,"ngIf"],["type","hidden","name","id_horario","formControlName","id_horario"],["for","id_horario",1,"required","form-label"],["bindValue","value","placeholder","Seleccionar","bindLabel","name","formControlName","dia_semana",3,"items"],["type","text","mwlFlatpickr","","placeholder","Inicio","formControlName","hora_inicio",1,"form-control",3,"options"],["type","text","id","kt_calendar_datepicker_end_time","formControlName","hora_fin","mwlFlatpickr","","placeholder","Seleccionar Hora de Fin",1,"form-control",3,"options"],[1,"position-absolute","end-0",2,"transform","translateY(-18px) translateX(12px)"],[1,"btn","btn-sm","fs-10","btn-icon","btn-active-color-danger","btn-danger",3,"click"],[1,"ki-solid","ki-cross"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4),t()(),a(6," Editar Personal "),t(),r(7,"button",5),f("click",function(){return i.close()}),r(8,"i",6),l(9,"span",3)(10,"span",4),t()()(),r(11,"div",7)(12,"form",8)(13,"div",9)(14,"label",10),a(15,"Nombre"),t(),l(16,"input",11),t(),r(17,"div",9)(18,"label",12),a(19,"Subir Nuevo CV"),t(),r(20,"input",13),f("change",function(u){return i.evtSelectFile(u)}),t()(),r(21,"div",14)(22,"div",9)(23,"label",15),a(24,"DNI"),t(),l(25,"input",16),t(),r(26,"div",9)(27,"label",17),a(28,"Tel\xE9fono"),t(),l(29,"input",18),t()(),r(30,"div",9)(31,"label",19),a(32,"Correo"),t(),l(33,"input",20),t(),r(34,"div",21)(35,"div",22)(36,"label",23),a(37,"G\xE9nero"),t(),l(38,"ng-select",24),h(39,"async"),t(),r(40,"div",22)(41,"label",25),a(42,"Sueldo"),t(),l(43,"input",26),t()(),r(44,"div",21)(45,"div",22)(46,"label",27),a(47,"Especialidad"),t(),r(48,"ng-select",28),h(49,"async"),f("change",function(u){return i.onChangeTerapia(u)}),t()(),r(50,"div",29)(51,"label",30),a(52,"Color"),t(),b(53,Je,3,4),X(54,53,Ue),Y(),t()(),r(56,"div",21)(57,"div",31)(58,"label",32),a(59,"N\xB0 Colegiatura"),t(),l(60,"input",33),t(),r(61,"div",34)(62,"label",35),a(63,"Direcci\xF3n"),t(),l(64,"input",36),t()(),r(65,"div",9)(66,"label",37),a(67,"Sede"),t(),l(68,"ng-select",38),h(69,"async"),t(),r(70,"div",21)(71,"div",39)(72,"div",40)(73,"label",41),a(74,"Horarios"),t(),r(75,"button",42),f("click",function(){return i.addHorario()}),r(76,"span")(77,"i",43),l(78,"span",3)(79,"span",4),t()()()(),b(80,Ye,17,6,"ng-container",44),t()()()(),r(81,"div",45)(82,"button",46),f("click",function(){return i.close()}),a(83," Cancelar "),t(),r(84,"button",47),h(85,"async"),f("click",function(){return i.save()}),a(86," Guardar "),b(87,ze,1,0,"span",48),h(88,"async"),t()()),e&2&&(d(12),m("formGroup",i.editForm),d(26),m("items",g(39,10,i.generosList))("loading",i.loadingGenero),d(10),m("items",g(49,12,i.terapiasList))("loading",i.loadingTerapia),d(20),m("items",g(69,14,i.sedesList))("loading",i.loadingSedes),d(12),m("ngForOf",i.horarios.controls),d(4),m("disabled",i.editForm.invalid||g(85,16,i.isLoading)),d(3),m("ngIf",g(88,18,i.isLoading)))},dependencies:[F,M,te,Z,ie,I,ee,le,ae,re,q,oe,ne,me,ue,L],data:{animation:[ve]}})}};Le=G([se({checkProperties:!0}),O("design:paramtypes",[E])],Le);function We(n,o){n&1&&l(0,"span",13)}var Yt=(()=>{class n{constructor(){this.modal=c(w),this.personalService=c(V),this.isLoading=c(H).isLoading,this.onSaveComplete=new k}close(){this.modal.dismissAll()}delete(){this.personalId!==void 0&&this.personalService.delete(this.personalId).subscribe(()=>{this.onSaveComplete.emit(),this.modal.dismissAll()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=y({type:n,selectors:[["app-borrar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:25,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-information","text-danger","fs-2hx",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(i,p){i&1&&(r(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4)(6,"span",5),t()(),a(7," Eliminar Personal "),t(),r(8,"button",6),f("click",function(){return p.close()}),r(9,"i",7),l(10,"span",3)(11,"span",4),t()()(),r(12,"div",8)(13,"p"),a(14,"\xBFEst\xE1s seguro de eliminar este registro de personal?"),t(),r(15,"p"),a(16,"Toda la informaci\xF3n relacionada con este personal se perder\xE1."),t()(),r(17,"div",9)(18,"button",10),f("click",function(){return p.close()}),a(19," Cancelar "),t(),r(20,"button",11),h(21,"async"),f("click",function(){return p.delete()}),a(22," Eliminar "),b(23,We,1,0,"span",12),h(24,"async"),t()()),i&2&&(d(20),m("disabled",g(21,2,p.isLoading)),d(3),m("ngIf",g(24,4,p.isLoading)))},dependencies:[M,L]})}}return n})();function Re(n,o){if(n&1&&(r(0,"li")(1,"span",1),a(2),t(),a(3),t()),n&2){let e=o.$implicit,i=v();d(2),ke("",i.getDayWeek(e.dia_semana),":"),d(),Fe(" ",i.getTime(e.hora_inicio)," - ",i.getTime(e.hora_fin)," ")}}var Wt=(()=>{class n{agInit(e){this.horarios=e.data.horarios}getTime(e){return e.slice(0,5)}getDayWeek(e){return["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"][e-1]}refresh(e){return!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=y({type:n,selectors:[["app-horarios-list"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"fw-bolder"]],template:function(i,p){i&1&&(r(0,"ul"),b(1,Re,4,3,"li",0),t()),i&2&&(d(),m("ngForOf",p.horarios))},dependencies:[F],encapsulation:2})}}return n})();export{Me as a,Le as b,Yt as c,Wt as d};
