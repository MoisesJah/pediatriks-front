import{a as y}from"./chunk-A6AXYPTG.js";import{a as Y}from"./chunk-YDOVIL34.js";import{a as X}from"./chunk-MYRVSVX3.js";import{a as Q,b as T}from"./chunk-DSXEMTTM.js";import{a as K}from"./chunk-QZNTIITD.js";import{i as W,j as J}from"./chunk-D2QAFCA3.js";import{b as q}from"./chunk-RCZZN26A.js";import{d as V,i as k,k as g,u as C,w as v,z as l}from"./chunk-EJJY6ZUA.js";import{B as E,C as N,Da as j,Dc as G,Ea as h,Fc as U,I as x,Jc as _,Kc as R,Mb as I,Na as A,Oa as M,Qb as L,Sb as P,Vb as S,_c as u,cc as a,dc as r,ec as D,fc as z,gc as O,ic as H,oc as B,pc as w,t as b,ta as p,xb as F,yb as c,yc as f,za as m}from"./chunk-D6LKZNPK.js";var te=()=>[k,import("./chunk-P2FDZPLE.js").then(t=>t.AgGridAngular)],ie=t=>[t];function re(t,e){if(t&1){let i=H();a(0,"ag-grid-angular",12),_(1,"async"),_(2,"async"),B("gridReady",function(n){A(i);let ee=w();return M(ee.gridReady(n))}),r()}if(t&2){let i=w();S("rowData",R(1,7,i.citasPaciente))("columnDefs",i.colDefs)("loading",R(2,9,i.isLoading))("localeText",i.localeText)("enableCellTextSelection",!0)("ariaHidden",!0)("pagination",!0)}}function oe(t,e){t&1&&(a(0,"div",13)(1,"div",14)(2,"span",15),f(3,"Loading..."),r()()())}var o,d=(o=class{constructor(e,i,s,n){this.route=e,this.changeDetector=i,this.router=s,this.citaService=n,this.localeText=X,this.isLoading=m(K).isLoading,this.theme=m(W),this.authService=m(q),this.pacienteService=m(Y),this.pacientesList=new b,this.citasPaciente=new b,this.user=this.authService.user(),this.colDefs=[{field:"paciente.nombre",headerName:"Paciente",filter:!0},{field:"tipocita.nombre",headerName:"Terapia",filter:!0},{field:"sede.nombre",headerName:"Sede",filter:!0},{field:"fecha",headerName:"Fecha de Cita",filter:!0},{field:"hora",headerName:"Hora de Cita",filter:!0},{field:"terapias.sesiones[0].status",headerName:"Estado de Sesi\xF3n",filter:!0},{field:"terapias.sesiones[0].personal.nombre",headerName:"Terapista",filter:!0},{field:"estado",headerName:"Estado",filter:!0}]}ngOnInit(){if(this.user){console.log("Usuario autenticado:",this.user);let e=this.user.id.toString();this.loadCitasPaciente(e)}}loadPacientes(){this.pacientesList=this.pacienteService.getAll().pipe(x(e=>e.data),T(this))}loadCitasPaciente(e){this.citasPaciente=this.citaService.getCitasByUser(e).pipe(x(i=>i.data),T(this))}gridReady(e){this.gridApi=e.api,this.sizeColumnsToFit()}sizeColumnsToFit(){let e=()=>this.gridApi.sizeColumnsToFit();new ResizeObserver(()=>{window.innerWidth>=768&&e()}).observe(document.body),e()}},o.\u0275fac=function(i){return new(i||o)(c(C),c(u),c(v),c(y))},o.\u0275cmp=j({type:o,selectors:[["app-dashboard"]],standalone:!0,features:[G],decls:19,vars:3,consts:[["header-title",""],[1,"d-flex","flex-column","text-gray-900","fw-bold","my-1"],[1,"",2,"color","white"],[1,"d-flex","justify-content-center","mt-4"],[1,"card","w-75","shadow-sm"],[1,"card-header","bg-none","border-bottom-2"],[1,"card-title","fs-4","m-0","text-start"],[1,"card-body"],[2,"height","350px",3,"ngClass"],[1,"my-3"],[1,"card-footer","bg-none","border-top-2"],[1,"dropdown"],["loadingMessage","Cargando...",2,"width","100%","height","100%",3,"gridReady","rowData","columnDefs","loading","localeText","enableCellTextSelection","ariaHidden","pagination"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100%"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(i,s){i&1&&(a(0,"app-header"),z(1,0),a(2,"h1",1)(3,"span",2),f(4,"Dashboard"),r()(),O(),r(),a(5,"div",3)(6,"div",4)(7,"div",5)(8,"h2",6),f(9,"Mis Citas"),r()(),a(10,"div",7)(11,"div",8),I(12,re,3,11)(13,oe,4,0),L(14,12,te,13),P(),r(),D(16,"hr",9),r(),a(17,"div",10),D(18,"div",11),r()()()),i&2&&(F(11),S("ngClass",U(1,ie,s.theme.getThemeMode()==="light"?"ag-theme-quartz":"ag-theme-quartz-dark")))},dependencies:[g,V,J]}),o);d=E([Q({checkProperties:!0}),N("design:paramtypes",[C,u,v,y])],d);var ae=[{path:"",component:d},{path:"reservar-cita/:tag",loadChildren:()=>import("./chunk-DH7AQCD5.js").then(t=>t.ReservarCitaModule)}],$=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=h({type:e}),e.\u0275inj=p({imports:[l.forChild(ae),l]});let t=e;return t})();var ne=[{path:"",component:d}],Le=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=h({type:e}),e.\u0275inj=p({imports:[g,$,l.forChild(ne)]});let t=e;return t})();export{Le as DashboardModule};
