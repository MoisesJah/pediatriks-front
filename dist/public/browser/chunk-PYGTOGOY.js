import{a as H}from"./chunk-5DEVZZCX.js";import{a as z}from"./chunk-HO35QQKW.js";import{a as T}from"./chunk-WSCAE77J.js";import{c as Y}from"./chunk-DZ6WTRVS.js";import{a as O}from"./chunk-X264SXFS.js";import{a as U,b as I}from"./chunk-V5XXOWMS.js";import{a as F}from"./chunk-6AI7ETL6.js";import{a as D}from"./chunk-QIE4PY5K.js";import{d as w,e as d,f as P,g as A,j as G,l as V,o as j,u as S}from"./chunk-IHDJPOBN.js";import{f as x,i as N}from"./chunk-BZQHEDDQ.js";import{B as L,Ba as y,Bb as i,C as M,Cb as e,Db as n,I as C,Lb as p,Qa as E,Vb as o,ab as a,bb as B,dc as c,ec as u,mb as k,t as _,ub as l,xa as m}from"./chunk-LN7CUKCY.js";function $(b,t){b&1&&n(0,"span",34)}var g,K=(g=class{constructor(t){this.fb=t,this.modal=m(D),this.isLoading=m(F).isLoading,this.pacienteService=m(T),this.userService=m(O),this.generoService=m(H),this.userList=new _,this.generos=new _,this.onSaveComplete=new E,this.pacienteForm=this.fb.group({nombre:["",d.required],dni:["",[d.required,d.pattern("^[0-9]*")]],fecha_nacimiento:["",d.required],id:[null,d.required],id_genero:[null,d.required],direccion:["",d.required],pos_hijo:[""],colegio:[""]})}ngAfterViewInit(){this.userList=this.userService.getPacientes().pipe(I(this),C(t=>t.data)),this.generos=this.generoService.getAll().pipe(I(this),C(t=>t.data))}ngOnDestroy(){}close(){this.modal.close()}save(){let t=this.pacienteForm.value;this.pacienteService.create(t).subscribe(()=>{this.onSaveComplete.emit(),this.modal.close()}),console.log(t)}},g.\u0275fac=function(s){return new(s||g)(B(S))},g.\u0275cmp=y({type:g,selectors:[["app-create-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:59,vars:22,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"text-primary"],[1,"ki-duotone","ki-add-files","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"d-flex","flex-column","gap-3"],["for","name",1,"required","form-label"],["type","text","id","","formControlName","nombre","placeholder","Ingresar Nombre del Paciente",1,"form-control"],[1,"d-flex","gap-3"],["for","lastName",1,"required","form-label"],["type","text","id","lastName","formControlName","dni","placeholder","Ingresar DNI del Paciente",1,"form-control"],["for","email",1,"required","form-label"],["mwlFlatpickr","","placeholder","Seleccionar fecha","formControlName","fecha_nacimiento",1,"form-control",3,"locale","altInput","altFormat"],["for","colegio",1,"required","form-label"],["type","text","id","colegio","formControlName","colegio","placeholder","Ingresar Colegio del Paciente",1,"form-control"],[1,"row"],[1,"col-6"],["for","id_genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero",3,"items","loadingText"],["for","nro_hermano",1,"required","form-label"],["type","text","id","n","formControlName","pos_hijo","placeholder","Ingresar N\xB0 de Hermano",1,"form-control"],["bindValue","id","placeholder","Seleccionar","bindLabel","name","formControlName","id",3,"items","loading","loadingText","notFoundText"],["for","direccion",1,"form-label"],["type","text","id","direccion","formControlName","direccion","placeholder","Ingresar Direcci\xF3n del Paciente",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(s,r){s&1&&(i(0,"div",0)(1,"h4",1)(2,"span",2)(3,"i",3),n(4,"span",4)(5,"span",5)(6,"span",6),e()(),o(7," Crear Paciente "),e(),i(8,"button",7),p("click",function(){return r.close()}),i(9,"i",8),n(10,"span",4)(11,"span",5),e()()(),i(12,"div",9)(13,"form",10)(14,"div",11)(15,"label",12),o(16,"Nombres"),e(),n(17,"input",13),e(),i(18,"div",14)(19,"div",11)(20,"label",15),o(21,"DNI"),e(),n(22,"input",16),e(),i(23,"div",11)(24,"label",17),o(25,"Fecha Nacimiento"),e(),n(26,"input",18),e()(),i(27,"div",11)(28,"label",19),o(29,"Colegio"),e(),n(30,"input",20),e(),i(31,"div",21)(32,"div",22)(33,"label",23),o(34,"Genero"),e(),n(35,"ng-select",24),c(36,"async"),e(),i(37,"div",22)(38,"label",25),o(39,"N\xB0 de Hermano "),e(),n(40,"input",26),e()(),i(41,"div",11)(42,"label",17),o(43,"Padre de Familia"),e(),n(44,"ng-select",27),c(45,"async"),c(46,"async"),e(),i(47,"div",11)(48,"label",28),o(49,"Direcci\xF3n"),e(),n(50,"input",29),e()()(),i(51,"div",30)(52,"button",31),p("click",function(){return r.close()}),o(53," Cerrar "),e(),i(54,"button",32),c(55,"async"),p("click",function(){return r.save()}),o(56," Guardar "),k(57,$,1,0,"span",33),c(58,"async"),e()()),s&2&&(a(13),l("formGroup",r.pacienteForm),a(13),l("locale","es")("altInput",!0)("altFormat","j/n/Y"),a(9),l("items",u(36,12,r.generos))("loadingText","Cargando.."),a(9),l("items",u(45,14,r.userList))("loading",u(46,16,r.isLoading))("loadingText","Cargando..")("notFoundText","Sin resultados"),a(10),l("disabled",r.pacienteForm.invalid||u(55,18,r.isLoading)),a(3),l("ngIf",u(58,20,r.isLoading)))},dependencies:[x,G,w,P,A,V,j,Y,z,N]}),g);K=L([U(),M("design:paramtypes",[S])],K);function ee(b,t){b&1&&n(0,"span",32)}var v,R=(v=class{constructor(t){this.fb=t,this.modal=m(D),this.isLoading=m(F).isLoading,this.pacienteService=m(T),this.userService=m(O),this.generoService=m(H),this.userList=new _,this.generos=new _,this.onSaveComplete=new E,this.pacienteForm=this.fb.group({nombre:["",d.required],dni:["",[d.required,d.pattern("^[0-9]*")]],fecha_nacimiento:["",d.required],id:[null,d.required],id_genero:[null,d.required],direccion:["",d.required],pos_hijo:[""],colegio:[""]})}ngOnInit(){this.pacienteService.getById(this.paciente?.id_paciente).subscribe(t=>{this.pacienteForm.patchValue(t.data)})}ngAfterViewInit(){this.userList=this.userService.getPacientes().pipe(I(this),C(t=>t.data)),this.generos=this.generoService.getAll().pipe(I(this),C(t=>t.data))}ngOnDestroy(){}close(){this.modal.close()}edit(){let t=this.pacienteForm.value,s=this.paciente?.id_paciente;this.pacienteService.update(t,s).subscribe(()=>{this.onSaveComplete.emit(),this.modal.close()})}},v.\u0275fac=function(s){return new(s||v)(B(S))},v.\u0275cmp=y({type:v,selectors:[["app-edit-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:58,vars:21,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-notepad-edit","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"d-flex","flex-column","gap-3"],["for","name",1,"required","form-label"],["type","text","id","","formControlName","nombre",1,"form-control"],[1,"d-flex","gap-3"],["for","lastName",1,"required","form-label"],["type","text","id","lastName","formControlName","dni",1,"form-control"],["for","email",1,"required","form-label"],["mwlFlatpickr","","placeholder","Seleccionar fecha","formControlName","fecha_nacimiento",1,"form-control",3,"locale","altInput","altFormat"],["for","colegio",1,"required","form-label"],["type","text","id","colegio","formControlName","colegio",1,"form-control"],[1,"row"],[1,"col-6"],["for","id_genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero",3,"items"],["for","nro_hermano",1,"required","form-label"],["type","text","id","n","formControlName","pos_hijo",1,"form-control"],["bindValue","id","placeholder","Seleccionar","bindLabel","name","formControlName","id",3,"items","loading","loadingText","notFoundText"],["for","direccion",1,"form-label"],["type","text","id","direccion","formControlName","direccion",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(s,r){s&1&&(i(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),n(4,"span",3)(5,"span",4),e()(),o(6," Editar Paciente "),e(),i(7,"button",5),p("click",function(){return r.close()}),i(8,"i",6),n(9,"span",3)(10,"span",4),e()()(),i(11,"div",7)(12,"form",8)(13,"div",9)(14,"label",10),o(15,"Nombres"),e(),n(16,"input",11),e(),i(17,"div",12)(18,"div",9)(19,"label",13),o(20,"DNI"),e(),n(21,"input",14),e(),i(22,"div",9)(23,"label",15),o(24,"Fecha Nacimiento"),e(),n(25,"input",16),e()(),i(26,"div",9)(27,"label",17),o(28,"Colegio"),e(),n(29,"input",18),e(),i(30,"div",19)(31,"div",20)(32,"label",21),o(33,"G\xE9nero"),e(),n(34,"ng-select",22),c(35,"async"),e(),i(36,"div",20)(37,"label",23),o(38,"N\xB0 de Hermano "),e(),n(39,"input",24),e()(),i(40,"div",9)(41,"label",15),o(42,"Padre de Familia"),e(),n(43,"ng-select",25),c(44,"async"),c(45,"async"),e(),i(46,"div",9)(47,"label",26),o(48,"Direccion"),e(),n(49,"input",27),e()()(),i(50,"div",28)(51,"button",29),p("click",function(){return r.close()}),o(52," Cerrar "),e(),i(53,"button",30),c(54,"async"),p("click",function(){return r.edit()}),o(55," Guardar "),k(56,ee,1,0,"span",31),c(57,"async"),e()()),s&2&&(a(12),l("formGroup",r.pacienteForm),a(13),l("locale","es")("altInput",!0)("altFormat","j/n/Y"),a(9),l("items",u(35,11,r.generos)),a(9),l("items",u(44,13,r.userList))("loading",u(45,15,r.isLoading))("loadingText","Cargando..")("notFoundText","Sin resultados"),a(10),l("disabled",r.pacienteForm.invalid||u(54,17,r.isLoading)),a(3),l("ngIf",u(57,19,r.isLoading)))},dependencies:[x,G,w,P,A,V,j,Y,z,N]}),v);R=L([U({checkProperties:!0}),M("design:paramtypes",[S])],R);function te(b,t){b&1&&n(0,"span",13)}var Be=(()=>{let t=class t{constructor(){this.modal=m(D),this.pacienteService=m(T),this.isLoading=m(F).isLoading,this.onSaveComplete=new E}close(){this.modal.dismiss()}delete(){this.pacienteService.delete(this.pacienteId).subscribe(()=>{this.onSaveComplete.emit(),this.modal.close()})}};t.\u0275fac=function(f){return new(f||t)},t.\u0275cmp=y({type:t,selectors:[["app-pacientes-delete-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:25,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-information","text-danger","fs-2hx",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(f,h){f&1&&(i(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),n(4,"span",3)(5,"span",4)(6,"span",5),e()(),o(7," Eliminar Paciente "),e(),i(8,"button",6),p("click",function(){return h.close()}),i(9,"i",7),n(10,"span",3)(11,"span",4),e()()(),i(12,"div",8)(13,"p"),o(14,"\xBFEst\xE1s seguro de eliminar este Paciente?"),e(),i(15,"p"),o(16,"Toda la informaci\xF3n relacionada con este paciente se perder\xE1."),e()(),i(17,"div",9)(18,"button",10),p("click",function(){return h.close()}),o(19," Cancelar "),e(),i(20,"button",11),c(21,"async"),p("click",function(){return h.delete()}),o(22," Eliminar "),k(23,te,1,0,"span",12),c(24,"async"),e()()),f&2&&(a(20),l("disabled",u(21,2,h.isLoading)),a(3),l("ngIf",u(24,4,h.isLoading)))},dependencies:[x,N]});let b=t;return b})();var Pe=(()=>{let t=class t{ngOnInit(){}agInit(r){this.params=r}openEdit(){this.params?.onEdit(this.params.data)}openDelete(){this.params?.onDelete(this.params.data)}refresh(r){return!0}};t.\u0275fac=function(f){return new(f||t)},t.\u0275cmp=y({type:t,selectors:[["app-pacientes-action-buttons"]],decls:5,vars:0,consts:[[1,"d-flex","align-items-center","gap-2",2,"padding-block","0.15rem"],["type","button",1,"btn","btn-icon","btn-sm","bg-success",3,"click"],[1,"ki-solid","ki-pencil","text-white"],["type","button",1,"btn","btn-icon","btn-sm","btn-danger",3,"click"],[1,"ki-solid","ki-trash","text-white"]],template:function(f,h){f&1&&(i(0,"div",0)(1,"button",1),p("click",function(){return h.openEdit()}),n(2,"span",2),e(),i(3,"button",3),p("click",function(){return h.openDelete()}),n(4,"span",4),e()())}});let b=t;return b})();export{K as a,R as b,Be as c,Pe as d};
