import{a as be}from"./chunk-VJ4IYMPX.js";import{b as ve}from"./chunk-T5EURV5D.js";import{a as V}from"./chunk-3B2MPMJU.js";import{a as fe,b as he}from"./chunk-VQB7VK3Y.js";import{a as ce}from"./chunk-QSXVNZMY.js";import{a as ge}from"./chunk-VXDGRBU5.js";import{c as pe}from"./chunk-SX6LGTBN.js";import{a as me}from"./chunk-FLXP5CLU.js";import{a as ue}from"./chunk-C3PJ6G3N.js";import{o as w}from"./chunk-SZA4NEXD.js";import{a as H}from"./chunk-5ZMKPZZY.js";import{a as se,b as de}from"./chunk-T3S5D2ZO.js";import{a as Q}from"./chunk-GKZUPR7X.js";import{A as ie,D as re,E as oe,F as ne,G as q,K as ae,M as le,N as E,b as K,r as Z,s,t as I,u as ee,z as te}from"./chunk-DA7F7PFS.js";import{n as N,o as M,t as L}from"./chunk-IVHFDWNE.js";import{Ba as y,Bc as a,C,Dc as Fe,Ec as Ne,La as j,Ma as U,Mb as b,Qb as X,Qc as h,Rc as g,Sb as Y,Ua as F,Vb as m,a as Te,aa as P,b as ke,ec as o,fc as i,gc as l,hc as z,ic as W,kc as R,n as _,qa as B,qc as f,rc as v,v as G,w as O,wa as $,wb as d,xa as c,xb as J}from"./chunk-MKY54U27.js";var _e=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${Q.apiUrl}/horariopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(e){return this.http.get(`${this.apiUrl}/list/${e}`)}create(e){return this.http.post(`${this.apiUrl}/add`,e)}update(e,t){return this.http.put(`${this.apiUrl}/edit/${e}`,t)}delete(e){return this.http.delete(`${this.apiUrl}/delete/${e}`)}static{this.\u0275fac=function(t){return new(t||n)($(K))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Se=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${Q.apiUrl}/tipopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(e){return this.http.get(`${this.apiUrl}/list/${e}`)}create(e){return this.http.post(`${this.apiUrl}/add`,e)}update(e,t){return this.http.put(`${this.apiUrl}/edit/${e}`,t)}delete(e){return this.http.delete(`${this.apiUrl}/delete/${e}`)}static{this.\u0275fac=function(t){return new(t||n)($(K))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ce(n,r=10){n=n.charAt(0)==="#"?n:"#"+n;let e=parseInt(n.slice(1,3),16),t=parseInt(n.slice(3,5),16),p=parseInt(n.slice(5,7),16),u=Math.min(e,t,p),x=Math.round((255-u)*.25),k=[];for(let S=1;S<=r;S++){let T=S/r,A=Math.min(255,Math.round(e+x*T)),Ie=Math.min(255,Math.round(t+x*T)),qe=Math.min(255,Math.round(p+x*T)),we="#"+A.toString(16).padStart(2,"0")+Ie.toString(16).padStart(2,"0")+qe.toString(16).padStart(2,"0");k.push(we)}return k}var Ge=()=>[I,q,he,fe];function Oe(n,r){if(n&1&&(o(0,"div",45),l(1,"ngx-colors",46)(2,"input",47),i()),n&2){let e,t=v();d(),m("palette",t.colorPalette)("hideTextInput",!0)("hideColorPicker",!0),d(),m("value",(e=t.personalForm.get("color"))==null?null:e.value)}}function Be(n,r){if(n&1){let e=R();o(0,"div",55)(1,"button",56),f("click",function(){j(e);let p=v().index,u=v();return U(u.removeHorario(p))}),l(2,"i",57),i()()}}function $e(n,r){if(n&1&&(z(0),o(1,"div",48),b(2,Be,3,0,"div",49),o(3,"div",23)(4,"div",50)(5,"label",51),a(6,"Dia de Semana"),i(),l(7,"ng-select",52),i(),o(8,"div",50)(9,"label",51),a(10,"Hora de Inicio"),i(),l(11,"input",53),i(),o(12,"div",50)(13,"label",51),a(14,"Hora de Fin"),i(),l(15,"input",54),i()()(),W()),n&2){let e=r.index,t=v();d(),m("@listItemAnimation",void 0)("formGroupName",e),d(),m("ngIf",e>0),d(5),m("items",t.dias),d(4),m("options",t.timeOptions),d(4),m("options",t.timeOptions)}}function je(n,r){n&1&&l(0,"span",58)}var Me=class ye{constructor(r){this.fb=r,this.modal=c(w),this.toast=c(me),this.isLoading=c(H).isLoading,this.personalService=c(V),this.tipoPersonalService=c(Se),this.terapiaService=c(ce),this.horarioPersonalService=c(_e),this.generosService=c(ge),this.sedesService=c(be),this.tiposPersonalList=new _,this.terapiasList=new _,this.horariosList=new _,this.generosList=new _,this.sedesList=new _,this.archivo=null,this.colorTerapia=null,this.timeOptions={enableTime:!0,noCalendar:!0,minTime:"08:00",maxTime:"20:00",dateFormat:"H:i"},this.dias=[{value:1,name:"Lunes"},{value:2,name:"Martes"},{value:3,name:"Mi\xE9rcoles"},{value:4,name:"Jueves"},{value:5,name:"Viernes"},{value:6,name:"S\xE1bado"}],this.onSaveComplete=new F,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.personalForm=this.fb.group({nombre:["",s.required],dni:["",[s.required,s.minLength(8),s.pattern("^[0-9]*")]],telefono:["",[s.required,s.pattern("^[0-9]*")]],correo:["",[s.required,s.email]],id_genero:[null,s.required],id_sede:[null,s.required],sueldo:[0,[s.required,s.min(0)]],id_terapia:[null,s.required],cv:[null],color:[null,s.required],horarios:this.fb.array([this.createHorario()])})}get horarios(){return this.personalForm.get("horarios")}createHorario(){return this.fb.group({dia_semana:[null,s.required],hora_inicio:[null,s.required],hora_fin:[null,s.required]})}onChangeTerapia(r){this.colorTerapia=r?.color,this.personalForm.get("color")?.setValue(null)}get colorPalette(){return this.colorTerapia?Ce(this.colorTerapia,15):[]}addHorario(){this.horarios.push(this.createHorario())}removeHorario(r){this.horarios.removeAt(r)}ngOnInit(){this.getTerapiasList(),this.getGenerosList(),this.getSedesList()}ngAfterViewInit(){this.horarios.valueChanges.subscribe(r=>{for(let e=0;e<r.length;e++){let t=r[e],p=t.hora_inicio,u=t.hora_fin;if(p>u){let[x,k]=p.split(":").map(Number),S=k+60,T=x+Math.floor(S/60),A=S%60;this.horarios.at(e).get("hora_fin")?.setValue(`${T.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`,{emitEvent:!1})}}})}close(){this.modal.dismissAll()}save(){this.personalForm.valid&&this.personalService.create(ke(Te({},this.personalForm.value),{horarios:this.horarios.value})).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:r=>{if(r.error.errors){let e=Object.values(r.error.errors).join(`
`);this.toast.error(e,"Error")}else this.toast.error("Ocurri\xF3 un error al crear el personal","Error")}})}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(C(r=>(this.loadingGenero=!1,r.data)))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(C(r=>(this.loadingSedes=!1,r.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(C(r=>r.data),P(()=>this.loadingTerapia=!1))}getHorariosList(){this.loadingHorario=!0,this.horariosList=this.horarioPersonalService.getAll().pipe(C(r=>(this.loadingHorario=!1,r.data)))}evtSelectFile(r){let e=r.target.files,t=e?e[0]:null;this.archivo=t,this.personalForm.patchValue({cv:this.archivo})}static{this.\u0275fac=function(e){return new(e||ye)(J(E))}}static{this.\u0275cmp=y({type:ye,selectors:[["app-crear-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:81,vars:20,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"text-primary"],[1,"ki-duotone","ki-add-files","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],["enctype","multipart/form-data",1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresar Nombre",1,"form-control"],["for",""],["type","file","id","cv","accept","application/pdf",1,"form-control",3,"change"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni","placeholder","Ingresar DNI",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono","placeholder","Ingresar Telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo","placeholder","Ingresar Correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"change","items","loading"],[1,"form-group","col-6","d-flex","flex-column"],["for","",1,"form-label"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["formArrayName","horarios"],[1,"d-flex","justify-content-between","mt-4","align-items-center"],["for","",1,"form-label","fw-bolder","fs-5"],[1,"btn","btn-primary","fs-10","btn-sm","btn-icon",3,"click"],[1,"ki-duotone","ki-plus"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"d-flex","position-relative","justify-content-center","align-items-center"],["ngx-colors-trigger","","formControlName","color",1,"position-absolute",2,"display","inline-block","margin","5px","left","10px",3,"palette","hideTextInput","hideColorPicker"],["type","text","readonly","",1,"form-control","ps-16",3,"value"],[1,"form-group","d-flex","flex-column","gap-3","position-relative","p-4","border-2","mt-2","border-dashed","border-gray-300","rounded",3,"formGroupName"],["class","position-absolute end-0","style","transform: translateY(-18px) translateX(12px);",4,"ngIf"],[1,"form-group","col-4"],["for","id_horario",1,"required","form-label"],["bindValue","value","placeholder","Seleccionar","bindLabel","name","formControlName","dia_semana",3,"items"],["type","text","mwlFlatpickr","","placeholder","Inicio","formControlName","hora_inicio",1,"form-control",3,"options"],["type","text","id","kt_calendar_datepicker_end_time","formControlName","hora_fin","mwlFlatpickr","","placeholder","Seleccionar Hora de Fin",1,"form-control",3,"options"],[1,"position-absolute","end-0",2,"transform","translateY(-18px) translateX(12px)"],[1,"btn","btn-sm","fs-10","btn-icon","btn-active-color-danger","btn-danger",3,"click"],[1,"ki-solid","ki-cross"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"h4",1)(2,"span",2)(3,"i",3),l(4,"span",4)(5,"span",5)(6,"span",6),i()(),a(7," A\xF1adir Personal "),i(),o(8,"button",7),f("click",function(){return t.close()}),o(9,"i",8),l(10,"span",4)(11,"span",5),i()()(),o(12,"div",9)(13,"form",10)(14,"div",11)(15,"label",12),a(16,"Nombre"),i(),l(17,"input",13),i(),o(18,"div",11)(19,"label",14),a(20,"CV"),i(),o(21,"input",15),f("change",function(u){return t.evtSelectFile(u)}),i()(),o(22,"div",16)(23,"div",11)(24,"label",17),a(25,"DNI"),i(),l(26,"input",18),i(),o(27,"div",11)(28,"label",19),a(29,"Tel\xE9fono"),i(),l(30,"input",20),i()(),o(31,"div",11)(32,"label",21),a(33,"Correo"),i(),l(34,"input",22),i(),o(35,"div",23)(36,"div",24)(37,"label",25),a(38,"G\xE9nero"),i(),l(39,"ng-select",26),h(40,"async"),i(),o(41,"div",24)(42,"label",27),a(43,"Sueldo"),i(),l(44,"input",28),i()(),o(45,"div",23)(46,"div",24)(47,"label",29),a(48,"Especialidad"),i(),o(49,"ng-select",30),h(50,"async"),f("change",function(u){return t.onChangeTerapia(u)}),i()(),o(51,"div",31)(52,"label",32),a(53,"Color"),i(),b(54,Oe,3,4),X(55,54,Ge),Y(),i()(),o(57,"div",11)(58,"label",33),a(59,"Sede"),i(),l(60,"ng-select",34),h(61,"async"),i(),o(62,"div",23)(63,"div",35)(64,"div",36)(65,"label",37),a(66,"Horarios"),i(),o(67,"button",38),f("click",function(){return t.addHorario()}),o(68,"span")(69,"i",39),l(70,"span",4)(71,"span",5),i()()()(),b(72,$e,16,6,"ng-container",40),i()()()(),o(73,"div",41)(74,"button",42),f("click",function(){return t.close()}),a(75," Cancelar "),i(),o(76,"button",43),h(77,"async"),f("click",function(){return t.save()}),a(78," Guardar "),b(79,je,1,0,"span",44),h(80,"async"),i()()),e&2&&(d(13),m("formGroup",t.personalForm),d(26),m("items",g(40,10,t.generosList))("loading",t.loadingGenero),d(10),m("items",g(50,12,t.terapiasList))("loading",t.loadingTerapia),d(11),m("items",g(61,14,t.sedesList))("loading",t.loadingSedes),d(12),m("ngForOf",t.horarios.controls),d(4),m("disabled",t.personalForm.invalid||g(77,16,t.isLoading)),d(3),m("ngIf",g(80,18,t.isLoading)))},dependencies:[N,M,te,Z,ie,I,ee,le,ae,re,q,oe,ne,pe,ue,L],data:{animation:[ve]}})}};Me=G([se({checkProperties:!0}),O("design:paramtypes",[E])],Me);var Ue=()=>[I,q,he,fe];function Je(n,r){if(n&1&&(o(0,"div",43),l(1,"ngx-colors",44)(2,"input",45),i()),n&2){let e,t=v();d(),m("palette",t.colorPalette)("hideTextInput",!0)("hideColorPicker",!0),d(),m("value",(e=t.editForm.get("color"))==null?null:e.value)}}function Xe(n,r){if(n&1){let e=R();o(0,"div",54)(1,"button",55),f("click",function(){j(e);let p=v().index,u=v();return U(u.removeHorario(p))}),l(2,"i",56),i()()}}function Ye(n,r){if(n&1&&(z(0),o(1,"div",46),b(2,Xe,3,0,"div",47),o(3,"div",21)(4,"div",48),l(5,"input",49),o(6,"label",50),a(7,"Dia de Semana"),i(),l(8,"ng-select",51),i(),o(9,"div",48)(10,"label",50),a(11,"Hora de Inicio"),i(),l(12,"input",52),i(),o(13,"div",48)(14,"label",50),a(15,"Hora de Fin"),i(),l(16,"input",53),i()()(),W()),n&2){let e=r.index,t=v();d(),m("@listItemAnimation",void 0)("formGroupName",e),d(),m("ngIf",e>0),d(6),m("items",t.dias),d(4),m("options",t.timeOptions),d(4),m("options",t.timeOptions)}}function ze(n,r){n&1&&l(0,"span",57)}var Le=class xe{constructor(r){this.fb=r,this.modal=c(w),this.toast=c(me),this.personalService=c(V),this.tipoPersonalService=c(Se),this.terapiaService=c(ce),this.horarioPersonalService=c(_e),this.isLoading=c(H).isLoading,this.generosService=c(ge),this.sedesService=c(be),this.terapiasList=new _,this.horariosList=new _,this.generosList=new _,this.sedesList=new _,this.timeOptions={enableTime:!0,noCalendar:!0,dateFormat:"H:i"},this.dias=[{value:1,name:"Lunes"},{value:2,name:"Martes"},{value:3,name:"Mi\xE9rcoles"},{value:4,name:"Jueves"},{value:5,name:"Viernes"},{value:6,name:"S\xE1bado"}],this.colorTerapia=null,this.onSaveComplete=new F,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.editForm=this.fb.group({nombre:["",s.required],dni:["",[s.required,s.pattern("^[0-9]*")]],telefono:["",[s.required,s.pattern("^[0-9]*")]],correo:["",[s.required,s.email]],id_genero:[null,s.required],id_sede:[null,s.required],sueldo:["",[s.required,s.min(0)]],id_terapia:[null,s.required],horarios:this.fb.array([]),cv:[null],color:[null,s.required]})}get horarios(){return this.editForm.get("horarios")}createHorario(){return this.fb.group({id_horario:[null],dia_semana:[null,s.required],hora_inicio:[null,s.required],hora_fin:[null,s.required]})}addHorario(){this.horarios.push(this.createHorario())}removeHorario(r){this.horarios.removeAt(r)}evtSelectFile(r){let e=r.target.files;this.editForm.get("cv")?.setValue(e?.item(0))}onChangeTerapia(r){this.colorTerapia=r?.color,this.editForm.get("color")?.setValue(null)}get colorPalette(){return this.colorTerapia?Ce(this.colorTerapia,15):[]}ngOnInit(){this.personalId&&this.loadPersonalData(),this.getTerapiasList(),this.getGenerosList(),this.getSedesList()}ngAfterViewInit(){this.horarios.valueChanges.subscribe(r=>{for(let e=0;e<r.length;e++){let t=r[e],p=t.hora_inicio,u=t.hora_fin;if(p>u){let[x,k]=p.split(":").map(Number),S=k+60,T=x+Math.floor(S/60),A=S%60;this.horarios.at(e).get("hora_fin")?.setValue(`${T.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`,{emitEvent:!1})}}})}close(){this.modal.dismissAll()}save(){let r=new FormData;Object.keys(this.editForm.value).forEach(e=>{let t=this.editForm.get(e);Array.isArray(t?.value)?r.append(e,JSON.stringify(t?.value)):t?.value&&r.append(e,t?.value)}),this.editForm.valid&&this.personalService.update(r,this.personalId).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:e=>{if(e.error.errors){let t=Object.values(e.error.errors).join(`
`);this.toast.error(t,"Error")}else this.toast.error("Ocurri\xF3 un error al crear el personal","Error")}})}loadPersonalData(){this.personalId&&this.personalService.getById(this.personalId).pipe(de(this)).subscribe({next:r=>{this.editForm.patchValue(r.data),this.colorTerapia=r.data.terapia?.color,r.data.horarios&&r.data.horarios.forEach(e=>{this.horarios.push(this.fb.group({id_horario:[e.id_horario],dia_semana:[e.dia_semana,s.required],hora_inicio:[e.hora_inicio,s.required],hora_fin:[e.hora_fin,s.required]}))})},error:r=>{this.toast.error("Ocurri\xF3 un error.","Error")}})}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(C(r=>(this.loadingGenero=!1,r.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(C(r=>r.data),P(()=>this.loadingTerapia=!1),de(this))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(C(r=>r.data),P(()=>this.loadingSedes=!1),de(this))}static{this.\u0275fac=function(e){return new(e||xe)(J(E))}}static{this.\u0275cmp=y({type:xe,selectors:[["app-editar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:80,vars:20,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-notepad-edit","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","apellidos",1,"form-label"],["type","file","accept","application/pdf",1,"form-control",3,"change"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"change","items","loading"],[1,"form-group","col-6","d-flex","flex-column"],["for","",1,"form-label"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["formArrayName","horarios"],[1,"d-flex","justify-content-between","mt-4","align-items-center"],["for","",1,"form-label","fw-bolder","fs-5"],[1,"btn","btn-primary","fs-10","btn-sm","btn-icon",3,"click"],[1,"ki-duotone","ki-plus"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"d-flex","position-relative","justify-content-center","align-items-center"],["ngx-colors-trigger","","formControlName","color",1,"position-absolute",2,"display","inline-block","margin","5px","left","10px",3,"palette","hideTextInput","hideColorPicker"],["type","text","readonly","",1,"form-control","ps-16",3,"value"],[1,"form-group","d-flex","flex-column","gap-3","position-relative","p-4","border-2","mt-2","border-dashed","border-gray-300","rounded",3,"formGroupName"],["class","position-absolute end-0","style","transform: translateY(-18px) translateX(12px);",4,"ngIf"],[1,"form-group","col-4"],["type","hidden","name","id_horario","formControlName","id_horario"],["for","id_horario",1,"required","form-label"],["bindValue","value","placeholder","Seleccionar","bindLabel","name","formControlName","dia_semana",3,"items"],["type","text","mwlFlatpickr","","placeholder","Inicio","formControlName","hora_inicio",1,"form-control",3,"options"],["type","text","id","kt_calendar_datepicker_end_time","formControlName","hora_fin","mwlFlatpickr","","placeholder","Seleccionar Hora de Fin",1,"form-control",3,"options"],[1,"position-absolute","end-0",2,"transform","translateY(-18px) translateX(12px)"],[1,"btn","btn-sm","fs-10","btn-icon","btn-active-color-danger","btn-danger",3,"click"],[1,"ki-solid","ki-cross"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4),i()(),a(6," Editar Personal "),i(),o(7,"button",5),f("click",function(){return t.close()}),o(8,"i",6),l(9,"span",3)(10,"span",4),i()()(),o(11,"div",7)(12,"form",8)(13,"div",9)(14,"label",10),a(15,"Nombre"),i(),l(16,"input",11),i(),o(17,"div",9)(18,"label",12),a(19,"Subir Nuevo CV"),i(),o(20,"input",13),f("change",function(u){return t.evtSelectFile(u)}),i()(),o(21,"div",14)(22,"div",9)(23,"label",15),a(24,"DNI"),i(),l(25,"input",16),i(),o(26,"div",9)(27,"label",17),a(28,"Tel\xE9fono"),i(),l(29,"input",18),i()(),o(30,"div",9)(31,"label",19),a(32,"Correo"),i(),l(33,"input",20),i(),o(34,"div",21)(35,"div",22)(36,"label",23),a(37,"G\xE9nero"),i(),l(38,"ng-select",24),h(39,"async"),i(),o(40,"div",22)(41,"label",25),a(42,"Sueldo"),i(),l(43,"input",26),i()(),o(44,"div",21)(45,"div",22)(46,"label",27),a(47,"Especialidad"),i(),o(48,"ng-select",28),h(49,"async"),f("change",function(u){return t.onChangeTerapia(u)}),i()(),o(50,"div",29)(51,"label",30),a(52,"Color"),i(),b(53,Je,3,4),X(54,53,Ue),Y(),i()(),o(56,"div",9)(57,"label",31),a(58,"Sede"),i(),l(59,"ng-select",32),h(60,"async"),i(),o(61,"div",21)(62,"div",33)(63,"div",34)(64,"label",35),a(65,"Horarios"),i(),o(66,"button",36),f("click",function(){return t.addHorario()}),o(67,"span")(68,"i",37),l(69,"span",3)(70,"span",4),i()()()(),b(71,Ye,17,6,"ng-container",38),i()()()(),o(72,"div",39)(73,"button",40),f("click",function(){return t.close()}),a(74," Cancelar "),i(),o(75,"button",41),h(76,"async"),f("click",function(){return t.save()}),a(77," Guardar "),b(78,ze,1,0,"span",42),h(79,"async"),i()()),e&2&&(d(12),m("formGroup",t.editForm),d(26),m("items",g(39,10,t.generosList))("loading",t.loadingGenero),d(10),m("items",g(49,12,t.terapiasList))("loading",t.loadingTerapia),d(11),m("items",g(60,14,t.sedesList))("loading",t.loadingSedes),d(12),m("ngForOf",t.horarios.controls),d(4),m("disabled",t.editForm.invalid||g(76,16,t.isLoading)),d(3),m("ngIf",g(79,18,t.isLoading)))},dependencies:[N,M,te,Z,ie,I,ee,le,ae,re,q,oe,ne,pe,ue,L],data:{animation:[ve]}})}};Le=G([se({checkProperties:!0}),O("design:paramtypes",[E])],Le);function We(n,r){n&1&&l(0,"span",13)}var Yt=(()=>{class n{constructor(){this.modal=c(w),this.personalService=c(V),this.isLoading=c(H).isLoading,this.onSaveComplete=new F}close(){this.modal.dismissAll()}delete(){this.personalId!==void 0&&this.personalService.delete(this.personalId).subscribe(()=>{this.onSaveComplete.emit(),this.modal.dismissAll()})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=y({type:n,selectors:[["app-borrar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:25,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-information","text-danger","fs-2hx",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(t,p){t&1&&(o(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4)(6,"span",5),i()(),a(7," Eliminar Personal "),i(),o(8,"button",6),f("click",function(){return p.close()}),o(9,"i",7),l(10,"span",3)(11,"span",4),i()()(),o(12,"div",8)(13,"p"),a(14,"\xBFEst\xE1s seguro de eliminar este registro de personal?"),i(),o(15,"p"),a(16,"Toda la informaci\xF3n relacionada con este personal se perder\xE1."),i()(),o(17,"div",9)(18,"button",10),f("click",function(){return p.close()}),a(19," Cancelar "),i(),o(20,"button",11),h(21,"async"),f("click",function(){return p.delete()}),a(22," Eliminar "),b(23,We,1,0,"span",12),h(24,"async"),i()()),t&2&&(d(20),m("disabled",g(21,2,p.isLoading)),d(3),m("ngIf",g(24,4,p.isLoading)))},dependencies:[M,L]})}}return n})();function Re(n,r){if(n&1&&(o(0,"li")(1,"span",1),a(2),i(),a(3),i()),n&2){let e=r.$implicit,t=v();d(2),Fe("",t.getDayWeek(e.dia_semana),":"),d(),Ne(" ",t.getTime(e.hora_inicio)," - ",t.getTime(e.hora_fin)," ")}}var Wt=(()=>{class n{agInit(e){this.horarios=e.data.horarios}getTime(e){return e.slice(0,5)}getDayWeek(e){return["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"][e-1]}refresh(e){return!1}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=y({type:n,selectors:[["app-horarios-list"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"fw-bolder"]],template:function(t,p){t&1&&(o(0,"ul"),b(1,Re,4,3,"li",0),i()),t&2&&(d(),m("ngForOf",p.horarios))},dependencies:[N],encapsulation:2})}}return n})();export{Me as a,Le as b,Yt as c,Wt as d};
