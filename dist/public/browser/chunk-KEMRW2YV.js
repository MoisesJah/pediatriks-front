import{a as Ee}from"./chunk-HOFIBJHF.js";import{a as be,b as ge}from"./chunk-HO35QQKW.js";import{a as L}from"./chunk-GT4JH6HJ.js";import{a as he}from"./chunk-MYRVSVX3.js";import{a as ue,b as fe}from"./chunk-V5XXOWMS.js";import{a as x}from"./chunk-6AI7ETL6.js";import{b as F,h as pe,i as ce}from"./chunk-QIE4PY5K.js";import{a as me,d as G,e as s,f as j,g as O,j as Q,k as $,l as z,o as U,s as Y,u as H,w as V}from"./chunk-IHDJPOBN.js";import{d as se,f as T,i as E,k,l as de}from"./chunk-BZQHEDDQ.js";import{$b as le,B as Z,Ba as q,Bb as n,Cb as e,Db as a,Eb as oe,Fb as ae,Hb as D,I as ee,Ka as v,La as y,Lb as p,Mb as J,Qa as P,Rb as w,Sb as N,Tb as M,Vb as l,_b as S,ab as h,bb as R,dc as b,ec as g,f as Se,mb as _,qa as te,qb as ne,sb as re,t as X,ub as f,wa as ie,xa as u}from"./chunk-LN7CUKCY.js";var I=(()=>{let i=class i{constructor(t){this.http=t,this.apiUrl=`${me.apiUrl}/paquete`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(t){return this.http.get(`${this.apiUrl}/show/${t}`)}create(t){return this.http.post(`${this.apiUrl}/add`,t)}update(t,r){return this.http.put(`${this.apiUrl}/edit/${t}`,r)}delete(t){return this.http.delete(`${this.apiUrl}/delete/${t}`)}};i.\u0275fac=function(r){return new(r||i)(ie(de))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"});let d=i;return d})();var W=Se(Ee());var Fe=["datePicker"],xe=["endDatePicker"];function Ie(d,i){d&1&&a(0,"span",38)}var qe=(()=>{let i=class i{constructor(t){this.fb=t,this.modal=u(F),this.paqueteService=u(I),this.loadingService=u(x),this.isLoading=this.loadingService.isLoading,this.terapiaid="",this.onSaveComplete=new P,this.paqueteForm=this.fb.group({nombre:["",s.required],descripcion:["",s.required],cantidadsesiones:["",[s.required,s.min(1)]],precioregular:["",[s.required,s.min(0),s.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]],descuento:["",[s.required,s.min(0),s.max(100),s.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]],preciopaquete:["",[s.required,s.min(0),s.pattern("^[0-9]+(\\.[0-9]{1,2})?$")]],fechainicio:["",s.required],fechafin:["",s.required],sesionesrestantes:["",[s.required,s.min(0)]]})}ngOnInit(){this.paqueteForm.get("precioregular")?.valueChanges.subscribe(()=>this.calculatePreciopaquete()),this.paqueteForm.get("descuento")?.valueChanges.subscribe(()=>this.calculatePreciopaquete()),this.paqueteForm.get("fechainicio")?.valueChanges.subscribe(()=>{this.paqueteForm.get("fechafin")?.value<this.paqueteForm.get("fechainicio")?.value&&this.paqueteForm.get("fechafin")?.setValue(this.paqueteForm.get("fechainicio")?.value)})}ngAfterViewInit(){let t=new Date;this.datePicker&&this.datePicker.nativeElement&&L(this.datePicker.nativeElement,{locale:W.Spanish,altFormat:"d/m/Y",altInput:!0,minDate:t,onChange:r=>{let o=r[0];if(this.endDatePicker&&this.endDatePicker.nativeElement){let m=L(this.endDatePicker.nativeElement,{locale:W.Spanish,altFormat:"d/m/Y",altInput:!0,minDate:o});this.paqueteForm.get("fechafin")?.value<o&&(this.paqueteForm.get("fechafin")?.setValue(o),m.setDate(o))}}}),this.endDatePicker&&this.endDatePicker.nativeElement&&L(this.endDatePicker.nativeElement,{locale:W.Spanish,altInput:!0,altFormat:"d/m/Y",minDate:t})}close(){this.modal.dismissAll()}save(){this.paqueteForm.valid&&(this.loadingService.setLoading(!0,"paquete/create"),this.paqueteService.create(this.paqueteForm.value).subscribe({next:t=>{console.log("Paquete creado con \xE9xito:",t),this.loadingService.setLoading(!1,"paquete/create"),this.onSaveComplete.emit(),this.close()},error:t=>{console.error("Error al crear paquete:",t),this.loadingService.setLoading(!1,"paquete/create")}}))}calculatePreciopaquete(){let t=this.paqueteForm.get("precioregular")?.value,r=this.paqueteForm.get("descuento")?.value;if(t&&r!=null){let o=r/100,m=t-t*o;this.paqueteForm.get("preciopaquete")?.setValue(m.toFixed(2),{emitEvent:!1})}}};i.\u0275fac=function(r){return new(r||i)(R(H))},i.\u0275cmp=q({type:i,selectors:[["app-crear-modal"]],viewQuery:function(r,o){if(r&1&&(w(Fe,5),w(xe,5)),r&2){let m;N(m=M())&&(o.datePicker=m.first),N(m=M())&&(o.endDatePicker=m.first)}},inputs:{terapiaid:"terapiaid"},outputs:{onSaveComplete:"onSaveComplete"},standalone:!0,features:[S],decls:63,vars:7,consts:[["datePicker",""],["endDatePicker",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"text-primary"],[1,"ki-duotone","ki-add-files","text-gray-900","fs-1",2,"vertical-align","text-top"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresa Nombre del Paquete",1,"form-control"],["for","descripcion",1,"required","form-label"],["cols","3","rows","2","id","descripcion","formControlName","descripcion","placeholder","Ingresa Descripci\xF3n del Paquete",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","cantidadsesiones",1,"required","form-label"],["type","number","id","cantidadsesiones","formControlName","cantidadsesiones","min","1","placeholder","Nro de Sesiones",1,"form-control"],["for","precioregular",1,"required","form-label"],["type","number","id","precioregular","formControlName","precioregular","min","0","step","0.01","placeholder","Ingresar Precio",1,"form-control"],["for","descuento",1,"required","form-label"],["type","number","id","descuento","formControlName","descuento","min","0","step","0.01","placeholder","Ingresar Descuento %",1,"form-control"],["for","preciopaquete",1,"required","form-label"],["type","number","id","preciopaquete","formControlName","preciopaquete","min","0","step","0.01","placeholder","Precio Total",1,"form-control"],["for","fechainicio",1,"required","form-label"],["type","text","id","kt_calendar_datepicker_date","formControlName","fechainicio","placeholder","Seleccionar Fecha",1,"form-control"],["for","fechafin",1,"required","form-label"],["type","text","id","kt_calendar_datepicker_end_date","formControlName","fechafin","placeholder","Seleccionar Fecha",1,"form-control"],["for","sesionesrestantes",1,"required","form-label"],["type","number","id","sesionesrestantes","formControlName","sesionesrestantes","min","0","placeholder","Ingresar Sesiones Restantes",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(r,o){if(r&1){let m=D();n(0,"div",2)(1,"h4",3)(2,"span",4)(3,"i",5),a(4,"span",6)(5,"span",7)(6,"span",8),e()(),l(7," A\xF1adir Paquete "),e(),n(8,"button",9),p("click",function(){return v(m),y(o.close())}),n(9,"i",10),a(10,"span",6)(11,"span",7),e()()(),n(12,"div",11)(13,"form",12)(14,"div",13)(15,"label",14),l(16,"Nombre del Paquete"),e(),a(17,"input",15),e(),n(18,"div",13)(19,"label",16),l(20,"Descripci\xF3n"),e(),a(21,"textarea",17),e(),n(22,"div",18)(23,"div",19)(24,"label",20),l(25,"Cantidad de Sesiones"),e(),a(26,"input",21),e(),n(27,"div",19)(28,"label",22),l(29,"Precio Regular"),e(),a(30,"input",23),e()(),n(31,"div",18)(32,"div",19)(33,"label",24),l(34,"Descuento %"),e(),a(35,"input",25),e(),n(36,"div",19)(37,"label",26),l(38,"Precio del Paquete"),e(),a(39,"input",27),e()(),n(40,"div",18)(41,"div",19)(42,"label",28),l(43,"Fecha de Inicio"),e(),a(44,"input",29,0),e(),n(46,"div",19)(47,"label",30),l(48,"Fecha de Fin"),e(),a(49,"input",31,1),e()(),n(51,"div",13)(52,"label",32),l(53,"Sesiones Restantes"),e(),a(54,"input",33),e()()(),n(55,"div",34)(56,"button",35),p("click",function(){return v(m),y(o.close())}),l(57," Cancelar "),e(),n(58,"button",36),b(59,"async"),p("click",function(){return v(m),y(o.save())}),l(60," Guardar "),_(61,Ie,1,0,"span",37),b(62,"async"),e()()}r&2&&(h(13),f("formGroup",o.paqueteForm),h(45),f("disabled",o.paqueteForm.invalid||g(59,3,o.isLoading)),h(3),f("ngIf",g(62,5,o.isLoading)))},dependencies:[V,Q,G,$,j,O,Y,z,U,k,T,E]});let d=i;return d})();function Pe(d,i){d&1&&a(0,"span",13)}var ve=(()=>{let i=class i{constructor(){this.modal=u(F),this.paqueteService=u(I),this.isLoading=u(x).isLoading,this.paqueteId="",this.onSaveComplete=new P}close(){this.modal.dismissAll()}delete(){let t=typeof this.paqueteId=="string"?this.paqueteId:this.paqueteId.id_paquetes;t?this.paqueteService.delete(t).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:r=>{console.error("Error al eliminar paquete:",r)}}):console.error("ID del paquete no proporcionado o en formato incorrecto")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=q({type:i,selectors:[["app-borrar-modal"]],inputs:{paqueteId:"paqueteId"},outputs:{onSaveComplete:"onSaveComplete"},standalone:!0,features:[S],decls:25,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-information","text-danger","fs-2hx",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(r,o){r&1&&(n(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),a(4,"span",3)(5,"span",4)(6,"span",5),e()(),l(7," Eliminar Paquete "),e(),n(8,"button",6),p("click",function(){return o.close()}),n(9,"i",7),a(10,"span",3)(11,"span",4),e()()(),n(12,"div",8)(13,"p"),l(14,"\xBFEst\xE1s seguro de eliminar este registro de paquete?"),e(),n(15,"p"),l(16,"Toda la informaci\xF3n relacionada con este paquete se perder\xE1."),e()(),n(17,"div",9)(18,"button",10),p("click",function(){return o.close()}),l(19," Cancelar "),e(),n(20,"button",11),b(21,"async"),p("click",function(){return o.delete()}),l(22," Eliminar "),_(23,Pe,1,0,"span",12),b(24,"async"),e()()),r&2&&(h(20),f("disabled",g(21,2,o.isLoading)),h(3),f("ngIf",g(24,4,o.isLoading)))},dependencies:[V,k,T,E]});let d=i;return d})();var De=["datePicker"],we=["endDatePicker"];function Ne(d,i){d&1&&a(0,"span",36)}var ye=(()=>{let i=class i{constructor(t){this.fb=t,this.modal=u(F),this.paqueteService=u(I),this.isLoading=u(x).isLoading,this.paqueteId="",this.onSaveComplete=new P,this.paqueteForm=this.fb.group({nombre:["",s.required],descripcion:["",s.required],cantidadsesiones:[0,[s.required,s.min(0)]],precioregular:[0,[s.required,s.min(0)]],descuento:[0,[s.required,s.min(0)]],preciopaquete:[0,[s.required,s.min(0)]],fechainicio:["",s.required],fechafin:["",s.required],sesionesrestantes:[0,[s.required,s.min(0)]]})}ngOnInit(){typeof this.paqueteId=="string"?this.loadPaqueteData():typeof this.paqueteId=="object"&&this.paqueteId.id_paquetes?this.loadPaqueteData(this.paqueteId.id_paquetes):console.error("ID del paquete no proporcionado o no es una cadena",this.paqueteId),this.paqueteForm.get("precioregular")?.valueChanges.subscribe(()=>this.calculatePreciopaquete()),this.paqueteForm.get("descuento")?.valueChanges.subscribe(()=>this.calculatePreciopaquete()),this.paqueteForm.get("fechainicio")?.valueChanges.subscribe(()=>{this.paqueteForm.get("fechafin")?.value<this.paqueteForm.get("fechainicio")?.value&&this.paqueteForm.get("fechafin")?.setValue(this.paqueteForm.get("fechainicio")?.value)})}close(){this.modal.dismissAll()}save(){if(this.paqueteForm.valid){let t=this.paqueteForm.value;typeof this.paqueteId=="string"?this.paqueteService.update(this.paqueteId,t).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:r=>{console.error("Error al actualizar paquete:",r.message)}}):typeof this.paqueteId=="object"&&this.paqueteId.id_paquetes?this.paqueteService.update(this.paqueteId.id_paquetes,t).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:r=>{console.error("Error al actualizar paquete:",r.message)}}):console.error("ID del paquete no proporcionado o en formato incorrecto")}}loadPaqueteData(t){let r=t||(typeof this.paqueteId=="object"?this.paqueteId.id_paquetes:this.paqueteId);r?(console.log("Cargando datos para paqueteId:",r),this.paqueteService.getById(r).subscribe({next:o=>{this.paqueteForm.patchValue(o.data),console.log("info",o.data)},error:o=>{console.error("Error al cargar datos del paquete:",o)}})):console.error("ID del paquete no proporcionado")}calculatePreciopaquete(){let t=this.paqueteForm.get("precioregular")?.value,r=this.paqueteForm.get("descuento")?.value;if(t&&r!=null){let o=r/100,m=t-t*o;this.paqueteForm.get("preciopaquete")?.setValue(m,{emitEvent:!1})}}};i.\u0275fac=function(r){return new(r||i)(R(H))},i.\u0275cmp=q({type:i,selectors:[["app-editar-modal"]],viewQuery:function(r,o){if(r&1&&(w(De,5),w(we,5)),r&2){let m;N(m=M())&&(o.datePicker=m.first),N(m=M())&&(o.endDatePicker=m.first)}},inputs:{paqueteId:"paqueteId"},outputs:{onSaveComplete:"onSaveComplete"},standalone:!0,features:[S],decls:62,vars:15,consts:[["datePicker",""],["endDatePicker",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-notepad-edit","text-gray-900","fs-1",2,"vertical-align","top"],[1,"path1"],[1,"path2"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","descripcion",1,"required","form-label"],["rows","2","id","descripcion","formControlName","descripcion",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","cantidadsesiones",1,"required","form-label"],["type","number","id","cantidadsesiones","formControlName","cantidadsesiones","min","1",1,"form-control"],["for","precioregular",1,"required","form-label"],["type","number","id","precioregular","formControlName","precioregular","min","0","step","0.01",1,"form-control"],["for","descuento",1,"required","form-label"],["type","number","id","descuento","formControlName","descuento","min","0","step","0.01",1,"form-control"],["for","preciopaquete",1,"required","form-label"],["type","number","id","preciopaquete","formControlName","preciopaquete","min","0","step","0.01",1,"form-control"],["for","fechainicio",1,"required","form-label"],["id","kt_calendar_datepicker_date","mwlFlatpickr","","formControlName","fechainicio","placeholder","Seleccionar Fecha",1,"form-control",3,"locale","altInput","altFormat","monthSelectorType"],["for","fechafin",1,"required","form-label"],["id","kt_calendar_datepicker_end_date","formControlName","fechafin","mwlFlatpickr","","placeholder","Seleccionar Fecha",1,"form-control",3,"locale","altInput","altFormat","monthSelectorType"],["for","sesionesrestantes",1,"required","form-label"],["type","number","id","sesionesrestantes","formControlName","sesionesrestantes","min","0",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(r,o){if(r&1){let m=D();n(0,"div",2)(1,"h4",3)(2,"span")(3,"i",4),a(4,"span",5)(5,"span",6),e()(),l(6," Editar Paquete "),e(),n(7,"button",7),p("click",function(){return v(m),y(o.close())}),n(8,"i",8),a(9,"span",5)(10,"span",6),e()()(),n(11,"div",9)(12,"form",10)(13,"div",11)(14,"label",12),l(15,"Nombre del Paquete"),e(),a(16,"input",13),e(),n(17,"div",11)(18,"label",14),l(19,"Descripci\xF3n"),e(),a(20,"textarea",15),e(),n(21,"div",16)(22,"div",17)(23,"label",18),l(24,"Cantidad de Sesiones"),e(),a(25,"input",19),e(),n(26,"div",17)(27,"label",20),l(28,"Precio Regular"),e(),a(29,"input",21),e()(),n(30,"div",16)(31,"div",17)(32,"label",22),l(33,"Descuento %"),e(),a(34,"input",23),e(),n(35,"div",17)(36,"label",24),l(37,"Precio del Paquete"),e(),a(38,"input",25),e()(),n(39,"div",16)(40,"div",17)(41,"label",26),l(42,"Fecha de Inicio"),e(),a(43,"input",27,0),e(),n(45,"div",17)(46,"label",28),l(47,"Fecha de Fin"),e(),a(48,"input",29,1),e()(),n(50,"div",11)(51,"label",30),l(52,"Sesiones Restantes"),e(),a(53,"input",31),e()()(),n(54,"div",32)(55,"button",33),p("click",function(){return v(m),y(o.close())}),l(56," Cancelar "),e(),n(57,"button",34),b(58,"async"),p("click",function(){return v(m),y(o.save())}),l(59," Guardar "),_(60,Ne,1,0,"span",35),b(61,"async"),e()()}r&2&&(h(12),f("formGroup",o.paqueteForm),h(31),f("locale","es")("altInput",!0)("altFormat","d/m/Y")("monthSelectorType","dropdown"),h(5),f("locale","es")("altInput",!0)("altFormat","d/m/Y")("monthSelectorType","dropdown"),h(9),f("disabled",o.paqueteForm.invalid||g(58,11,o.isLoading)),h(3),f("ngIf",g(61,13,o.isLoading)))},dependencies:[V,Q,G,$,j,O,Y,z,U,k,T,E,ge,be]});let d=i;return d})();var Ce=(()=>{let i=class i{ngOnInit(){}agInit(t){this.params=t}openEdit(){this.params?.onEdit(this.params.data)}openDelete(){this.params?.onDelete(this.params.data)}refresh(t){return!0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=q({type:i,selectors:[["app-paquete-action-buttons"]],decls:5,vars:0,consts:[[1,"d-flex","align-items-center","gap-2",2,"padding-block","0.15rem"],["type","button",1,"btn","btn-icon","btn-sm","bg-success",3,"click"],[1,"ki-solid","ki-pencil","text-white"],["type","button",1,"btn","btn-icon","btn-sm","btn-danger",3,"click"],[1,"ki-solid","ki-trash","text-white"]],template:function(r,o){r&1&&(n(0,"div",0)(1,"button",1),p("click",function(){return o.openEdit()}),a(2,"span",2),e(),n(3,"button",3),p("click",function(){return o.openDelete()}),a(4,"span",4),e()())}});let d=i;return d})();var Me=()=>[E,import("./chunk-6NGAYFQR.js").then(d=>d.AgGridAngular)],Te=d=>[d];function Ve(d,i){if(d&1){let c=D();n(0,"ag-grid-angular",22),b(1,"async"),b(2,"async"),p("gridReady",function(r){v(c);let o=J();return y(o.gridReady(r))}),e()}if(d&2){let c=J();f("rowData",g(1,6,c.paquetesList))("localeText",c.localeText)("columnDefs",c.colDefs)("pagination",!0)("enableCellTextSelection",!0)("loading",g(2,8,c.isLoading))}}var C,_e=(C=class{constructor(){this.paquetesService=u(I),this.isLoading=u(x).isLoading,this.theme=u(pe),this.modal=u(F),this.paquetesList=new X,this.localeText=he,this.colDefs=[{field:"nombre",headerName:"Nombre",filter:!0},{field:"descripcion",headerName:"Descripcion"},{field:"cantidadsesiones",headerName:"Cantidad de Sesiones"},{field:"precioregular",headerName:"Precio Regular"},{field:"descuento",headerName:"Descuento %"},{field:"preciopaquete",headerName:"Precio del Paquete"},{field:"fechainicio",headerName:"Fecha de Inicio"},{field:"fechafin",headerName:"Fecha de Fin"},{field:"sesionesrestantes",headerName:"Sesiones Restantes"},{headerName:"Acciones",cellRenderer:Ce,cellRendererParams:{onEdit:i=>this.openEditarModal(i),onDelete:i=>this.openBorrarModal(i)},maxWidth:100,resizable:!1}]}ngOnInit(){this.fetchPaquetes()}fetchPaquetes(){this.paquetesList=this.paquetesService.getAll().pipe(ee(i=>i.data),fe(this))}loadTabla(){this.fetchPaquetes()}gridReady(i){this.gridApi=i.api}onFilterTextBoxChanged(){this.gridApi.setGridOption("quickFilterText",document.getElementById("paquete-search").value)}openCrearModal(){this.modal.open(qe,{size:"350px",animation:!0,centered:!0}).componentInstance.onSaveComplete.subscribe(()=>{this.fetchPaquetes()})}openEditarModal(i){let c=this.modal.open(ye);c.componentInstance.paqueteId=i.id_paquetes,c.componentInstance.onSaveComplete.subscribe(()=>{this.fetchPaquetes()})}openBorrarModal(i){if(!i.id_paquetes){console.error("El paquete no tiene un id_paquete definido.");return}let c=this.modal.open(ve,{size:"300px",animation:!0,centered:!0});c.componentInstance.paqueteId=i.id_paquetes,c.componentInstance.onSaveComplete.subscribe(()=>{this.fetchPaquetes()})}ngOnDestroy(){}},C.\u0275fac=function(c){return new(c||C)},C.\u0275cmp=q({type:C,selectors:[["app-paquetes"]],standalone:!0,features:[S],decls:30,vars:3,consts:[["header-title",""],[1,"d-flex","flex-column","text-gray-900","fw-bold","my-1"],[1,"",2,"color","white"],[1,"content","d-flex","flex-column","flex-column-fluid"],[1,"container-xxl"],[1,"card","shadow","p-2","px-4"],[1,"d-flex","py-4","justify-content-between","align-items-center"],["data-kt-search-element","form","autocomplete","off",1,"position-relative"],["type","hidden"],[1,"ki-duotone","ki-magnifier","fs-2","search-icon","position-absolute","top-50","translate-middle-y","ms-4"],[1,"path1"],[1,"path2"],["type","search","id","paquete-search","name","search","value","","placeholder","B\xFAsqueda","data-kt-search-element","input",1,"form-control","custom-form-control","ps-13",3,"input"],[1,"d-flex","align-items-center","gap-3"],["type","button",1,"btn","btn-light-primary",3,"click"],[1,"d-flex","align-items-center"],[1,"fa-solid","fa-rotate-right"],[1,"ms-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"ki-solid","ki-plus","text-white","fs-1"],[1,"text-white","ms-2"],["id","myGrid",2,"height","400px",3,"ngClass"],["loadingMessage","Cargando...",2,"width","100%","height","100%",3,"gridReady","rowData","localeText","columnDefs","pagination","enableCellTextSelection","loading"]],template:function(c,t){c&1&&(n(0,"app-header"),oe(1,0),n(2,"h1",1)(3,"span",2),l(4,"Paquetes"),e()(),ae(),e(),n(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"form",7),a(10,"input",8),n(11,"i",9),a(12,"span",10)(13,"span",11),e(),n(14,"input",12),p("input",function(){return t.onFilterTextBoxChanged()}),e()(),n(15,"div",13)(16,"button",14),p("click",function(){return t.loadTabla()}),n(17,"span",15),a(18,"span",16),n(19,"span",17),l(20,"Actualizar"),e()()(),n(21,"button",18),p("click",function(){return t.openCrearModal()}),n(22,"span",15),a(23,"span",19),n(24,"span",20),l(25,"A\xF1adir"),e()()()()(),n(26,"div",21),_(27,Ve,3,10),ne(28,27,Me),re(),e()()()()),c&2&&(h(26),f("ngClass",le(1,Te,t.theme.getThemeMode()==="light"?"ag-theme-quartz":"ag-theme-quartz-dark")))},dependencies:[k,se,ce]}),C);_e=Z([ue()],_e);export{_e as PaquetesComponent};
