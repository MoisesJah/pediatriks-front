import{a as T}from"./chunk-X264SXFS.js";import{a as x}from"./chunk-6AI7ETL6.js";import{b as S,c as B}from"./chunk-QIE4PY5K.js";import{d as w,e as d,f as N,g as F,j as D,l as M,o as A,t as L,u as j}from"./chunk-IHDJPOBN.js";import{b as Y,f as k,i as E}from"./chunk-BZQHEDDQ.js";import{Ba as h,Bb as r,Ca as R,Cb as o,Da as Z,Db as l,Lb as p,Qa as y,Ra as K,Vb as m,ab as c,bb as v,dc as b,ec as g,mb as _,qa as P,ra as V,ta as U,ub as u,wa as H,xa as f}from"./chunk-LN7CUKCY.js";var G=class{constructor(e,I){this._document=I;let i=this._textarea=this._document.createElement("textarea"),n=i.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let e=this._textarea,I=!1;try{if(e){let i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),I=this._document.execCommand("copy"),i&&i.focus()}}catch{}return I}destroy(){let e=this._textarea;e&&(e.remove(),this._textarea=void 0)}},Q=(()=>{let e=class e{constructor(i){this._document=i}copy(i){let n=this.beginCopy(i),t=n.copy();return n.destroy(),t}beginCopy(i){return new G(i,this._document)}};e.\u0275fac=function(n){return new(n||e)(H(Y))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let a=e;return a})(),W=new U("CDK_COPY_TO_CLIPBOARD_CONFIG"),q=(()=>{let e=class e{constructor(i,n,t){this._clipboard=i,this._ngZone=n,this.text="",this.attempts=1,this.copied=new y,this._pending=new Set,t&&t.attempts!=null&&(this.attempts=t.attempts)}copy(i=this.attempts){if(i>1){let n=i,t=this._clipboard.beginCopy(this.text);this._pending.add(t);let s=()=>{let C=t.copy();!C&&--n&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(s,1)):(this._currentTimeout=null,this._pending.delete(t),t.destroy(),this.copied.emit(C))};s()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(i=>i.destroy()),this._pending.clear(),this._destroyed=!0}};e.\u0275fac=function(n){return new(n||e)(v(Q),v(K),v(W,8))},e.\u0275dir=Z({type:e,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(n,t){n&1&&p("click",function(){return t.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"},standalone:!0});let a=e;return a})(),ce=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=R({type:e}),e.\u0275inj=V({});let a=e;return a})();function ee(a,e){a&1&&l(0,"span",32)}var _e=(()=>{let e=class e{constructor(i){this.fb=i,this.modal=f(S),this.userService=f(T),this.isLoading=f(x).isLoading,this.onSaveComplete=new y,this.userForm=this.fb.group({name:["",d.required],email:["",[d.required,d.email]],dni:["",[d.required,d.minLength(8),d.pattern("^[0-9]*")]],telefono:["",[d.required,d.pattern("^[0-9]*")]],password:["",[d.required,d.minLength(8)]]})}generatePassword(){let n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let s=0;s<12;s++){let C=Math.floor(Math.random()*n.length);t+=n[C]}this.userForm.get("password")?.patchValue(t)}close(){this.modal.dismissAll()}save(){this.userForm.valid&&this.userService.create(this.userForm.value).subscribe(()=>{this.onSaveComplete.emit(),this.modal.dismissAll()})}};e.\u0275fac=function(n){return new(n||e)(v(j))},e.\u0275cmp=h({type:e,selectors:[["app-create-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:51,vars:8,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"text-primary"],[1,"ki-duotone","ki-add-files","text-gray-900","fs-1",2,"vertical-align","text-top"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","exampleFormControlInput1",1,"required","form-label"],["type","text","formControlName","name","placeholder","Ingresa tu Nombre",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["type","text","pattern","[0-9]*","formControlName","dni","placeholder","Ingresa tu DNI",1,"form-control"],["type","email","formControlName","telefono","placeholder","Ingresa tu Tel\xE9fono",1,"form-control"],["type","email","formControlName","email","placeholder","Ingresa tu Correo",1,"form-control"],[1,"d-flex","align-items-center","justify-content-between",2,"margin-bottom","0.75rem"],["for","password",1,"required","form-label","d-flex","align-items-center","justify-content-between"],["ngbTooltip","Guarde la contrasen\u0303a en un lugar seguro para no perderla",2,"margin-left","0.15rem"],[1,"ki-solid","ki-information-2"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"position-relative"],["formControlName","password","type","password","placeholder","Ingresa tu Contrase\xF1a",1,"form-control","pe-8"],["type","button","ngbTooltip","Copiar","placement","bottom",1,"btn","btn-icon","copy-icon","btn-sm","copy-icon","btn-active-color-primary","btn-color-gray-800","position-absolute",3,"cdkCopyToClipboard"],[1,"ki-solid","ki-copy","fs-1"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,t){if(n&1&&(r(0,"div",0)(1,"h4",1)(2,"span",2)(3,"i",3),l(4,"span",4)(5,"span",5)(6,"span",6),o()(),m(7," A\xF1adir Usuario "),o(),r(8,"button",7),p("click",function(){return t.close()}),r(9,"i",8),l(10,"span",4)(11,"span",5),o()()(),r(12,"div",9)(13,"form",10)(14,"div",11)(15,"label",12),m(16,"Nombres"),o(),l(17,"input",13),o(),r(18,"div",14)(19,"div",15)(20,"label",12),m(21,"DNI"),o(),l(22,"input",16),o(),r(23,"div",15)(24,"label",12),m(25," Tel\xE9fono "),o(),l(26,"input",17),o()(),r(27,"div",11)(28,"label",12),m(29," Correo "),o(),l(30,"input",18),o(),r(31,"div",11)(32,"div",19)(33,"label",20),m(34," Contrasen\u0303a "),r(35,"span",21),l(36,"i",22),o()(),r(37,"button",23),p("click",function(){return t.generatePassword()}),m(38," autogenerar "),o()(),r(39,"div",24),l(40,"input",25),r(41,"button",26),l(42,"span",27),o()()()()(),r(43,"div",28)(44,"button",29),p("click",function(){return t.close()}),m(45," Cancelar "),o(),r(46,"button",30),b(47,"async"),p("click",function(){return t.save()}),m(48," Guardar "),_(49,ee,1,0,"span",31),b(50,"async"),o()()),n&2){let s;c(13),u("formGroup",t.userForm),c(28),u("cdkCopyToClipboard",(s=t.userForm.get("password"))==null?null:s.value),c(5),u("disabled",t.userForm.invalid||g(47,4,t.isLoading)),c(3),u("ngIf",g(50,6,t.isLoading))}},dependencies:[k,D,w,N,F,L,B,q,M,A,E]});let a=e;return a})();function te(a,e){a&1&&l(0,"span",31)}var De=(()=>{let e=class e{constructor(i){this.fb=i,this.modal=f(S),this.userService=f(T),this.isLoading=f(x).isLoading,this.onSaveComplete=new y,this.userForm=this.fb.group({name:["",d.required],email:["",[d.required,d.email]],dni:["",[d.required,d.minLength(8),d.pattern("^[0-9]*")]],telefono:["",[d.required,d.pattern("^[0-9]*")]],password:["",[d.required,d.minLength(8)]]})}ngOnInit(){this.userService.getById(this.userId).subscribe(i=>{this.userForm.patchValue(i.data)})}generatePassword(){let n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let s=0;s<12;s++){let C=Math.floor(Math.random()*n.length);t+=n[C]}this.userForm.get("password")?.patchValue(t)}close(){this.modal.dismissAll()}edit(i,n){this.userService.update(i,n).subscribe(()=>{this.onSaveComplete.emit(),this.modal.dismissAll()})}};e.\u0275fac=function(n){return new(n||e)(v(j))},e.\u0275cmp=h({type:e,selectors:[["app-edit-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:53,vars:8,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-notepad-edit","text-gray-900","fs-1",2,"vertical-align","top"],[1,"path1"],[1,"path2"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","exampleFormControlInput1",1,"required","form-label"],["type","text","formControlName","name",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["type","text","pattern","[0-9]*","formControlName","dni",1,"form-control"],["type","email","formControlName","telefono",1,"form-control"],["type","email","formControlName","email",1,"form-control"],[1,"d-flex","align-items-center","justify-content-between",2,"margin-bottom","0.75rem"],["for","password",1,"required","form-label","d-flex","align-items-center","justify-content-between"],["ngbTooltip","Guarde la contrasen\u0303a en un lugar seguro para no perderla",2,"margin-left","0.15rem"],[1,"ki-solid","ki-information-2"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"ki-duotone","ki-note"],[1,"position-relative"],["formControlName","password","type","password",1,"form-control","pe-8"],["type","button","ngbTooltip","Copiar",1,"btn","btn-icon","btn-sm","top-0","copy-icon","end-0","btn-active-color-primary","btn-color-gray-800","position-absolute",3,"cdkCopyToClipboard"],[1,"ki-solid","ki-copy","fs-1"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,t){if(n&1&&(r(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4),o()(),m(6," Editar Informaci\xF3n "),o(),r(7,"button",5),p("click",function(){return t.close()}),r(8,"i",6),l(9,"span",3)(10,"span",4),o()()(),r(11,"div",7)(12,"form",8)(13,"div",9)(14,"label",10),m(15,"Nombres"),o(),l(16,"input",11),o(),r(17,"div",12)(18,"div",13)(19,"label",10),m(20,"DNI"),o(),l(21,"input",14),o(),r(22,"div",13)(23,"label",10),m(24," Tel\xE9fono "),o(),l(25,"input",15),o()(),r(26,"div",9)(27,"label",10),m(28," Correo "),o(),l(29,"input",16),o(),r(30,"div",9)(31,"div",17)(32,"label",18),m(33," Contrasen\u0303a "),r(34,"span",19),l(35,"i",20),o()(),r(36,"button",21),p("click",function(){return t.generatePassword()}),r(37,"i",22),l(38,"span",3)(39,"span",4),o(),m(40," autogenerar "),o()(),r(41,"div",23),l(42,"input",24),r(43,"button",25),l(44,"span",26),o()()()()(),r(45,"div",27)(46,"button",28),p("click",function(){return t.close()}),m(47," Cancelar "),o(),r(48,"button",29),b(49,"async"),p("click",function(){return t.edit(t.userForm.value,t.userId)}),m(50," Actualizar "),_(51,te,1,0,"span",30),b(52,"async"),o()()),n&2){let s;c(12),u("formGroup",t.userForm),c(31),u("cdkCopyToClipboard",(s=t.userForm.get("password"))==null?null:s.value),c(5),u("disabled",t.userForm.invalid||g(49,4,t.isLoading)),c(3),u("ngIf",g(52,6,t.isLoading))}},dependencies:[k,D,w,N,F,L,B,q,M,A,E]});let a=e;return a})();function ie(a,e){a&1&&l(0,"span",13)}var Ge=(()=>{let e=class e{constructor(){this.modal=f(S),this.users=f(T),this.isLoading=f(x).isLoading,this.onSaveComplete=new y}close(){this.modal.dismissAll()}delete(){this.users.delete(this.userId).subscribe(()=>{this.onSaveComplete.emit(),this.modal.dismissAll()})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=h({type:e,selectors:[["app-delete-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:25,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-information","text-danger","fs-2hx",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,t){n&1&&(r(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),l(4,"span",3)(5,"span",4)(6,"span",5),o()(),m(7," Eliminar Usuario "),o(),r(8,"button",6),p("click",function(){return t.close()}),r(9,"i",7),l(10,"span",3)(11,"span",4),o()()(),r(12,"div",8)(13,"p"),m(14,"\xBFEst\xE1s seguro de eliminar este usuario?"),o(),r(15,"p"),m(16,"Toda la informaci\xF3n relacionada con este usuario se perder\xE1."),o()(),r(17,"div",9)(18,"button",10),p("click",function(){return t.close()}),m(19," Cancelar "),o(),r(20,"button",11),b(21,"async"),p("click",function(){return t.delete()}),m(22," Eliminar "),_(23,ie,1,0,"span",12),b(24,"async"),o()()),n&2&&(c(20),u("disabled",g(21,2,t.isLoading)),c(3),u("ngIf",g(24,4,t.isLoading)))},dependencies:[k,E]});let a=e;return a})();var Ve=(()=>{let e=class e{ngOnInit(){}agInit(i){this.params=i}openEdit(){this.params?.onEdit(this.params.data)}openDelete(){this.params?.onDelete(this.params.data)}refresh(i){return!0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=h({type:e,selectors:[["app-action-buttons"]],decls:5,vars:0,consts:[[1,"d-flex","align-items-center","gap-2",2,"padding-block","0.15rem"],["type","button",1,"btn","btn-icon","btn-sm","bg-success",3,"click"],[1,"ki-solid","ki-pencil","text-white"],["type","button",1,"btn","btn-icon","btn-sm","btn-danger",3,"click"],[1,"ki-solid","ki-trash","text-white"]],template:function(n,t){n&1&&(r(0,"div",0)(1,"button",1),p("click",function(){return t.openEdit()}),l(2,"span",2),o(),r(3,"button",3),p("click",function(){return t.openDelete()}),l(4,"span",4),o()())}});let a=e;return a})();export{ce as a,_e as b,De as c,Ge as d,Ve as e};
