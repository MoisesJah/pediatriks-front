import{a as q}from"./chunk-DW6DHASQ.js";import{a as R}from"./chunk-N6M6V22Q.js";import{a as O}from"./chunk-ZFW4DUPA.js";import{a as z}from"./chunk-5DEVZZCX.js";import{a as J,b as K,c as Q}from"./chunk-DZ6WTRVS.js";import{a as x}from"./chunk-6AI7ETL6.js";import{b as N}from"./chunk-QIE4PY5K.js";import{a as B,d as M,e as l,f as A,g as G,j as V,k as w,l as D,o as H,s as $,t as U,u as j}from"./chunk-IHDJPOBN.js";import{f as L,i as T,l as F}from"./chunk-BZQHEDDQ.js";import{Ba as C,Bb as o,Cb as e,Db as s,I as b,Lb as g,Qa as y,Vb as n,Yb as E,ab as m,bb as I,dc as u,ec as f,mb as _,qa as P,t as h,ub as c,wa as k,xa as p}from"./chunk-LN7CUKCY.js";var X=(()=>{let t=class t{constructor(i){this.http=i,this.apiUrl=`${B.apiUrl}/tipopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(i){return this.http.get(`${this.apiUrl}/list/${i}`)}create(i){return this.http.post(`${this.apiUrl}/add`,i)}update(i,d){return this.http.put(`${this.apiUrl}/edit/${i}`,d)}delete(i){return this.http.delete(`${this.apiUrl}/delete/${i}`)}};t.\u0275fac=function(d){return new(d||t)(k(F))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();var Y=(()=>{let t=class t{constructor(i){this.http=i,this.apiUrl=`${B.apiUrl}/horariopersonal`}getAll(){return this.http.get(`${this.apiUrl}/list`)}getById(i){return this.http.get(`${this.apiUrl}/list/${i}`)}create(i){return this.http.post(`${this.apiUrl}/add`,i)}update(i,d){return this.http.put(`${this.apiUrl}/edit/${i}`,d)}delete(i){return this.http.delete(`${this.apiUrl}/delete/${i}`)}};t.\u0275fac=function(d){return new(d||t)(k(F))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();function oe(a,t){if(a&1&&n(0),a&2){let v=t.item;E(" ",v.horario_iniciop," - ",v.horario_finalp," ")}}function ne(a,t){if(a&1&&n(0),a&2){let v=t.item;E(" ",v.horario_iniciop," - ",v.horario_finalp," ")}}function ae(a,t){a&1&&s(0,"span",43)}var Pe=(()=>{let t=class t{constructor(i){this.fb=i,this.modal=p(N),this.isLoading=p(x).isLoading,this.personalService=p(q),this.tipoPersonalService=p(X),this.terapiaService=p(O),this.horarioPersonalService=p(Y),this.generosService=p(z),this.sedesService=p(R),this.tiposPersonalList=new h,this.terapiasList=new h,this.horariosList=new h,this.generosList=new h,this.sedesList=new h,this.archivo=null,this.onSaveComplete=new y,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.personalForm=this.fb.group({nombre:["",l.required],dni:["",[l.required,l.minLength(8),l.pattern("^[0-9]*")]],telefono:["",[l.required,l.pattern("^[0-9]*")]],correo:["",[l.required,l.email]],id_genero:[null,l.required],id_sede:[null,l.required],sueldo:[0,[l.required,l.min(0)]],id_tipopersonal:[null,l.required],id_terapia:[null,l.required],id_horariop:[null,l.required],cv:[null]})}ngOnInit(){this.getTipoPersonalList(),this.getTerapiasList(),this.getHorariosList(),this.getGenerosList(),this.getSedesList()}close(){this.modal.dismissAll()}save(){this.personalForm.valid&&(console.log(this.personalForm.value),this.personalService.create(this.personalForm.value).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:i=>{console.error("Error al guardar personal:",i)}}))}getTipoPersonalList(){this.loadingTPersonal=!0,this.tiposPersonalList=this.tipoPersonalService.getAll().pipe(b(i=>(this.loadingTPersonal=!1,i.data)))}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(b(i=>(this.loadingGenero=!1,i.data)))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(b(i=>(this.loadingSedes=!1,i.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(b(i=>(this.loadingTerapia=!1,i.data)))}getHorariosList(){this.loadingHorario=!0,this.horariosList=this.horarioPersonalService.getAll().pipe(b(i=>(this.loadingHorario=!1,i.data)))}evtSelectFile(i){let d=i.target.files,r=d?d[0]:null;this.archivo=r,this.personalForm.patchValue({cv:this.archivo}),console.log(this.personalForm.value)}};t.\u0275fac=function(d){return new(d||t)(I(j))},t.\u0275cmp=C({type:t,selectors:[["app-crear-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:77,vars:27,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"text-primary"],[1,"ki-duotone","ki-add-files","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],["enctype","multipart/form-data",1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Ingresar Nombre",1,"form-control"],["for",""],["type","file","id","cv","accept","application/pdf",1,"form-control",3,"change"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni","placeholder","Ingresar DNI",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono","placeholder","Ingresar Telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo","placeholder","Ingresar Correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"items","loading"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["for","id_tipopersonal",1,"required","form-label"],["bindValue","id_tipopersonal","placeholder","Seleccionar","bindLabel","especialidad","formControlName","id_tipopersonal","loadingText","Cargando...",3,"items","loading"],["for","id_horario",1,"required","form-label"],["bindValue","id_horariop","placeholder","Seleccionar","bindLabel","horario_iniciop","formControlName","id_horariop","loadingText","Cargando...",3,"items","loading"],["ng-option-tmp",""],["ng-label-tmp",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(d,r){d&1&&(o(0,"div",0)(1,"h4",1)(2,"span",2)(3,"i",3),s(4,"span",4)(5,"span",5)(6,"span",6),e()(),n(7," A\xF1adir Personal "),e(),o(8,"button",7),g("click",function(){return r.close()}),o(9,"i",8),s(10,"span",4)(11,"span",5),e()()(),o(12,"div",9)(13,"form",10)(14,"div",11)(15,"label",12),n(16,"Nombre"),e(),s(17,"input",13),e(),o(18,"div",11)(19,"label",14),n(20,"CV"),e(),o(21,"input",15),g("change",function(ee){return r.evtSelectFile(ee)}),e()(),o(22,"div",16)(23,"div",11)(24,"label",17),n(25,"DNI"),e(),s(26,"input",18),e(),o(27,"div",11)(28,"label",19),n(29,"Tel\xE9fono"),e(),s(30,"input",20),e()(),o(31,"div",11)(32,"label",21),n(33,"Correo"),e(),s(34,"input",22),e(),o(35,"div",23)(36,"div",24)(37,"label",25),n(38,"G\xE9nero"),e(),s(39,"ng-select",26),u(40,"async"),e(),o(41,"div",24)(42,"label",27),n(43,"Sueldo"),e(),s(44,"input",28),e()(),o(45,"div",23)(46,"div",24)(47,"label",29),n(48,"Especialidad"),e(),s(49,"ng-select",30),u(50,"async"),e(),o(51,"div",24)(52,"label",31),n(53,"Sede"),e(),s(54,"ng-select",32),u(55,"async"),e()(),o(56,"div",23)(57,"div",24)(58,"label",33),n(59,"Tipo de Personal"),e(),s(60,"ng-select",34),u(61,"async"),e(),o(62,"div",24)(63,"label",35),n(64,"Horario"),e(),o(65,"ng-select",36),u(66,"async"),_(67,oe,1,2,"ng-template",37)(68,ne,1,2,"ng-template",38),e()()()()(),o(69,"div",39)(70,"button",40),g("click",function(){return r.close()}),n(71," Cancelar "),e(),o(72,"button",41),u(73,"async"),g("click",function(){return r.save()}),n(74," Guardar "),_(75,ae,1,0,"span",42),u(76,"async"),e()()),d&2&&(m(13),c("formGroup",r.personalForm),m(26),c("items",f(40,13,r.generosList))("loading",r.loadingGenero),m(10),c("items",f(50,15,r.terapiasList))("loading",r.loadingTerapia),m(5),c("items",f(55,17,r.sedesList))("loading",r.loadingSedes),m(6),c("items",f(61,19,r.tiposPersonalList))("loading",r.loadingTPersonal),m(5),c("items",f(66,21,r.horariosList))("loading",r.loadingHorario),m(7),c("disabled",r.personalForm.invalid||f(73,23,r.isLoading)),m(3),c("ngIf",f(76,25,r.isLoading)))},dependencies:[L,V,M,w,A,G,U,$,D,H,Q,J,K,T]});let a=t;return a})();function le(a,t){if(a&1&&n(0),a&2){let v=t.item;E(" ",v.horario_iniciop," - ",v.horario_finalp," ")}}function se(a,t){if(a&1&&n(0),a&2){let v=t.item;E(" ",v.horario_iniciop," - ",v.horario_finalp," ")}}function de(a,t){a&1&&s(0,"span",39)}var ze=(()=>{let t=class t{constructor(i){this.fb=i,this.modal=p(N),this.personalService=p(q),this.tipoPersonalService=p(X),this.terapiaService=p(O),this.horarioPersonalService=p(Y),this.isLoading=p(x).isLoading,this.generosService=p(z),this.sedesService=p(R),this.tiposPersonalList=new h,this.terapiasList=new h,this.horariosList=new h,this.generosList=new h,this.sedesList=new h,this.onSaveComplete=new y,this.loadingGenero=!1,this.loadingSedes=!1,this.loadingTerapia=!1,this.loadingTPersonal=!1,this.loadingHorario=!1,this.editForm=this.fb.group({nombre:["",l.required],dni:["",[l.required,l.pattern("^[0-9]*")]],telefono:["",[l.required,l.pattern("^[0-9]*")]],correo:["",[l.required,l.email]],id_genero:[null,l.required],id_sede:[null,l.required],sueldo:["",[l.required,l.min(0)]],id_tipopersonal:[null,l.required],id_terapia:[null,l.required],id_horariop:[null,l.required]})}ngOnInit(){this.personalId&&this.loadPersonalData(),this.getTipoPersonalList(),this.getTerapiasList(),this.getHorariosList(),this.getGenerosList(),this.getSedesList()}close(){this.modal.dismissAll()}save(){this.editForm.valid&&this.personalService.update(this.editForm.value,this.personalId).subscribe({next:()=>{this.onSaveComplete.emit(),this.modal.dismissAll()},error:i=>{console.error("Error al actualizar personal:",i.message)}})}loadPersonalData(){this.personalId&&this.personalService.getById(this.personalId).subscribe({next:i=>{this.editForm.patchValue(i.data)},error:i=>{console.error("Error al cargar datos del personal:",i.message)}})}getTipoPersonalList(){this.loadingTPersonal=!0,this.tiposPersonalList=this.tipoPersonalService.getAll().pipe(b(i=>(this.loadingTPersonal=!1,i.data)))}getGenerosList(){this.loadingGenero=!0,this.generosList=this.generosService.getAll().pipe(b(i=>(this.loadingGenero=!1,i.data)))}getTerapiasList(){this.loadingTerapia=!0,this.terapiasList=this.terapiaService.getAll().pipe(b(i=>(this.loadingTerapia=!1,i.data)))}getSedesList(){this.loadingSedes=!0,this.sedesList=this.sedesService.getAll().pipe(b(i=>(this.loadingSedes=!1,i.data)))}getHorariosList(){this.loadingHorario=!0,this.horariosList=this.horarioPersonalService.getAll().pipe(b(i=>(this.loadingHorario=!1,i.data)))}};t.\u0275fac=function(d){return new(d||t)(I(j))},t.\u0275cmp=C({type:t,selectors:[["app-editar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:72,vars:27,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-notepad-edit","text-gray-900","fs-1",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body"],[1,"form","d-flex","flex-column","gap-4",3,"formGroup"],[1,"form-group"],["for","nombre",1,"required","form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],[1,"d-flex","gap-3"],["for","dni",1,"required","form-label"],["type","text","id","dni","pattern","[0-9]*","formControlName","dni",1,"form-control"],["for","telefono",1,"required","form-label"],["type","text","id","telefono","pattern","[0-9]*","formControlName","telefono",1,"form-control"],["for","correo",1,"required","form-label"],["type","email","id","correo","formControlName","correo",1,"form-control"],[1,"row"],[1,"form-group","col-6"],["for","genero",1,"required","form-label"],["bindLabel","nombre","bindValue","id_genero","placeholder","Seleccionar","formControlName","id_genero","loadingText","Cargando...",3,"items","loading"],["for","sueldo",1,"required","form-label"],["type","number","id","sueldo","formControlName","sueldo","min","0","step","0.01",1,"form-control"],["for","id_terapia",1,"required","form-label"],["bindValue","id_terapia","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_terapia","loadingText","Cargando...",3,"items","loading"],["for","id_sede",1,"required","form-label"],["bindValue","id_sede","placeholder","Seleccionar","bindLabel","nombre","formControlName","id_sede","loadingText","Cargando...",3,"items","loading"],["for","id_tipopersonal",1,"required","form-label"],["bindValue","id_tipopersonal","placeholder","Seleccionar","bindLabel","especialidad","formControlName","id_tipopersonal","loadingText","Cargando...",3,"items","loading"],["for","id_horario",1,"required","form-label"],["bindValue","id_horariop","placeholder","Seleccionar","bindLabel","horario_iniciop","formControlName","id_horariop","loadingText","Cargando...",3,"items","loading"],["ng-option-tmp",""],["ng-label-tmp",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(d,r){d&1&&(o(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),s(4,"span",3)(5,"span",4),e()(),n(6," Editar Personal "),e(),o(7,"button",5),g("click",function(){return r.close()}),o(8,"i",6),s(9,"span",3)(10,"span",4),e()()(),o(11,"div",7)(12,"form",8)(13,"div",9)(14,"label",10),n(15,"Nombre"),e(),s(16,"input",11),e(),o(17,"div",12)(18,"div",9)(19,"label",13),n(20,"DNI"),e(),s(21,"input",14),e(),o(22,"div",9)(23,"label",15),n(24,"Tel\xE9fono"),e(),s(25,"input",16),e()(),o(26,"div",9)(27,"label",17),n(28,"Correo"),e(),s(29,"input",18),e(),o(30,"div",19)(31,"div",20)(32,"label",21),n(33,"G\xE9nero"),e(),s(34,"ng-select",22),u(35,"async"),e(),o(36,"div",20)(37,"label",23),n(38,"Sueldo"),e(),s(39,"input",24),e()(),o(40,"div",19)(41,"div",20)(42,"label",25),n(43,"Especialidad"),e(),s(44,"ng-select",26),u(45,"async"),e(),o(46,"div",20)(47,"label",27),n(48,"Sede"),e(),s(49,"ng-select",28),u(50,"async"),e()(),o(51,"div",19)(52,"div",20)(53,"label",29),n(54,"Tipo de Personal"),e(),s(55,"ng-select",30),u(56,"async"),e(),o(57,"div",20)(58,"label",31),n(59,"Horario"),e(),o(60,"ng-select",32),u(61,"async"),_(62,le,1,2,"ng-template",33)(63,se,1,2,"ng-template",34),e()()()()(),o(64,"div",35)(65,"button",36),g("click",function(){return r.close()}),n(66," Cancelar "),e(),o(67,"button",37),u(68,"async"),g("click",function(){return r.save()}),n(69," Guardar "),_(70,de,1,0,"span",38),u(71,"async"),e()()),d&2&&(m(12),c("formGroup",r.editForm),m(22),c("items",f(35,13,r.generosList))("loading",r.loadingGenero),m(10),c("items",f(45,15,r.terapiasList))("loading",r.loadingTerapia),m(5),c("items",f(50,17,r.sedesList))("loading",r.loadingSedes),m(6),c("items",f(56,19,r.tiposPersonalList))("loading",r.loadingTPersonal),m(5),c("items",f(61,21,r.horariosList))("loading",r.loadingHorario),m(7),c("disabled",r.editForm.invalid||f(68,23,r.isLoading)),m(3),c("ngIf",f(71,25,r.isLoading)))},dependencies:[L,V,M,w,A,G,U,$,D,H,Q,J,K,T]});let a=t;return a})();function pe(a,t){a&1&&s(0,"span",13)}var Ze=(()=>{let t=class t{constructor(){this.modal=p(N),this.personalService=p(q),this.isLoading=p(x).isLoading,this.onSaveComplete=new y}close(){this.modal.dismissAll()}delete(){this.personalId!==void 0&&this.personalService.delete(this.personalId).subscribe(()=>{this.onSaveComplete.emit(),this.modal.dismissAll()})}};t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=C({type:t,selectors:[["app-borrar-modal"]],outputs:{onSaveComplete:"onSaveComplete"},decls:25,vars:6,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title","d-flex","align-items-center","gap-1"],[1,"ki-duotone","ki-information","text-danger","fs-2hx",2,"vertical-align","middle"],[1,"path1"],[1,"path2"],[1,"path3"],["type","button","aria-label","Close",1,"btn","btn-sm","btn-icon","btn-active-color-primary","btn-color-gray-800",3,"click"],[1,"ki-duotone","ki-cross-square","fs-1"],[1,"modal-body","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(d,r){d&1&&(o(0,"div",0)(1,"h4",1)(2,"span")(3,"i",2),s(4,"span",3)(5,"span",4)(6,"span",5),e()(),n(7," Eliminar Personal "),e(),o(8,"button",6),g("click",function(){return r.close()}),o(9,"i",7),s(10,"span",3)(11,"span",4),e()()(),o(12,"div",8)(13,"p"),n(14,"\xBFEst\xE1s seguro de eliminar este registro de personal?"),e(),o(15,"p"),n(16,"Toda la informaci\xF3n relacionada con este personal se perder\xE1."),e()(),o(17,"div",9)(18,"button",10),g("click",function(){return r.close()}),n(19," Cancelar "),e(),o(20,"button",11),u(21,"async"),g("click",function(){return r.delete()}),n(22," Eliminar "),_(23,pe,1,0,"span",12),u(24,"async"),e()()),d&2&&(m(20),c("disabled",f(21,2,r.isLoading)),m(3),c("ngIf",f(24,4,r.isLoading)))},dependencies:[L,T]});let a=t;return a})();export{Pe as a,ze as b,Ze as c};
